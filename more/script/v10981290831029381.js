const view={body:find("body"),init(){this.main.addChild(this.header),this.main.addChild(this.content),this.main.addChild(this.footer),this.body.addChild(this.main)},main:makeElement("main",{style:"\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\ttop: 0px;\n\t\t\tleft: 0px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t"}),header:makeElement("header",{style:"\n\t\t\twidth:100%;\n\t\t\theight:200px;\n\t\t\tdisplay:flex;\n\t\t\tjustify-content:center;\n\t\t\tborder-bottom:5px solid whitesmoke;\n\t\t\tbackground:white;\n\t\t",innerHTML:'\n\t\t\t<div style="\n\t\t\t\theight:100%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tjustify-content:space-around;\n\t\t\t\talign-items:center;\n\t\t\t\tflex-direction:column;\n\t\t\t\twidth:100%;\n\t\t\t">\n\t\t\t\t<div style="\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t/*background:#15244e;color:white;*/\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\tfont-size:24px;\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">circletask<span style=font-size:12px;font-family:montserratregular>.com</span></div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\toverflow:auto;\n\t\t\t\t\toverflow-y:hidden;\n\t\t\t\t" id=ourmenu class=innerBox>\n\t\t\t\t\t<div id=newPost style=padding-left:30px;>\n\t\t\t\t\t\t<img src=./more/media/addnew.png class=navimg>\n\t\t\t\t\t\tPost\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=displayList>\n\t\t\t\t\t\t<img src=./more/media/home.png class=navimg>\n\t\t\t\t\t\tBeranda\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=openMyproject>\n\t\t\t\t\t\t<img src=./more/media/task.png class=navimg>\n\t\t\t\t\t\tProjectKu\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=openInbox>\n\t\t\t\t\t\t<img src=./more/media/message.png class=navimg>\n\t\t\t\t\t\tPesan\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=openGlobalChat>\n\t\t\t\t\t\t<img src=./more/media/globe.png class=navimg>\n\t\t\t\t\t\tGlobal Chat\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=openNotif>\n\t\t\t\t\t\t<img src=./more/media/bell.png class=navimg>\n\t\t\t\t\t\tNotif\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=openProfile style=padding-right:30px;>\n\t\t\t\t\t\t<img src=./more/media/header.png class=navimg>\n\t\t\t\t\t\tProfil\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t',navEvent(){this.findall("#ourmenu div").forEach(t=>{t.onclick=(()=>{view.content.saveRemove("#chooseType"),view.content[t.id]([],"loadartikel",!0)})})},onadded(){this.navEvent()}}),content:makeElement("content",{className:"innerBox fitborder",style:"\n\t\t\tbackground:white;\n\t\t\theight:100%;\n\t\t\tdisplay:flex;\n\t\t\talign-items: center;\n\t\t\toverflow:hidden;\n\t\t\tflex-direction:column;\n\t\t\tposition:relative;\n\t\t",innerHTML:'\n\t\t\t<div style="\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 10px;\n\t\t\t\tposition:sticky;\n\t\t\t\ttop:0;\n\t\t\t\toverflow:auto;\n\t\t\t\theight:48px;\n\t\t\t\tpadding-bottom:0;\n\t\t\t">\n\t\t\t\t<div id=stateLabel\n\t\t\t\tstyle="\n\t\t\t\t\tmargin-left:3%;\n\t\t\t\t\twidth:100%;\n\t\t\t\t"\n\t\t\t\t>\n\t\t\t\t\tBeranda\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tcursor:pointer;\n\t\t\t\t\tdisplay:none;\n\t\t\t\t\tmargin-right:28px;\n\t\t\t\t"\n\t\t\t\tid=searchWare\n\t\t\t\t>\n\t\t\t\t\t<img src=./more/media/search.png class=navimg>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tdisplay: none;\n\t\t\t\t\tjustify-content: flex-end;\n\t\t\t\t\tmargin-right: 3%;\n\t\t\t\t\tgap:8px;\n\t\t\t\t"\n\t\t\t\tid=reactTo\n\t\t\t\t>\n\t\t\t\t\t<div style=display:flex;>\n\t\t\t\t\t\t<div class="buttonstyled" style="\n\t\t\t\t\t\t\tborder-radius:20px;display:flex;\n\t\t\t\t\t\t\talign-items:center;gap:5px;background:none;\n\t\t\t\t\t\t\tfont-size:12px;\n\t\t\t\t\t\t" id=view>10 Kali Dibaca</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tdisplay: none;\n\t\t\t\t\tjustify-content: flex-end;\n\t\t\t\t\tmargin-right: 3%;\n\t\t\t\t\tgap:8px;\n\t\t\t\t"\n\t\t\t\tid=logout\n\t\t\t\t>\n\t\t\t\t\t<div style=display:flex;>\n\t\t\t\t\t\t<div class="buttonstyled" style="\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tgap: 5px;\n\t\t\t\t\t\t\tbackground: none;\n\t\t\t\t\t\t\tfont-size: 12px;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/exit.png\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\twidth:18px;\n\t\t\t\t\t\t\t\theight:18px;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>Keluar\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\tstyle="\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\toverflow:auto;\n\t\t\t\toverflow-x:hidden;\n\t\t\t\tposition:relative;\n\t\t\t"\n\t\t\tid=linesparent\n\t\t\t></div>\n\t\t',logoutEvent(){this.logout.onclick=(()=>{app.ls.remove(),location.reload()})},clearLinesParent(){this.linesParent.clear()},onadded(){this.linesParent=this.find("#linesparent"),this.stateLabel=this.find("#stateLabel"),this.logout=this.find("#logout"),this.reactTo=this.find("#reactTo"),this.searchWare=this.find("#searchWare"),this.displayList([],"loadloker",!0),this.logoutEvent()},displayList(t,n,e){this.clearLinesParent(),this.find("#linesparent").addChild(view.searchDiv(n,e)),t.forEach((n,e)=>{this.find("#linesparent").addChild(view.line(n,e+1,e!==t.length-1))}),0===t.length&&this.find("#linesparent").addChild(view.nodata()),this.stateLabel.innerHTML="Beranda",this.reactTo.hide(),this.searchWare.show("flex"),this.logout.hide()},newArticle(){this.clearLinesParent(),this.linesParent.addChild(view.articlenew()),this.stateLabel.innerHTML="Artikel Baru",this.reactTo.hide(),this.searchWare.hide()},newCerpen(){this.clearLinesParent(),this.linesParent.addChild(view.cerpennew()),this.stateLabel.innerHTML="Cerpen Baru",this.reactTo.hide(),this.searchWare.hide()},openArticles(){this.clearLinesParent(),this.linesParent.addChild(view.openArticles()),this.stateLabel.innerHTML="Baca Artikel",this.reactTo.show("flex"),this.searchWare.hide(),this.logout.hide()},openShortStories(){this.clearLinesParent(),this.linesParent.addChild(view.openShortStories()),this.stateLabel.innerHTML="Baca Berita",this.reactTo.show("flex"),this.searchWare.hide(),this.logout.hide()},openJobs(){this.clearLinesParent(),this.linesParent.addChild(view.openJobs()),this.stateLabel.innerHTML="Info Loker",this.reactTo.show("flex"),this.searchWare.hide(),this.logout.hide()},openMyproject(t=[],n="OnGoing",e){if(!app.getInfoLogin())return view.content.getIn(()=>{view.content.openMyproject([],"OnGoing",!0)}),forceRecheck(view.main,"Silahkan Login Lebih Dahulu!");this.clearLinesParent(),"loadartikel"===n&&(n="OnGoing"),this.find("#linesparent").addChild(view.myProjectDiv(n,e)),t.forEach((n,e)=>{this.find("#linesparent").addChild(view.projectList(n,e+1,e!==t.length-1))}),0===t.length&&this.find("#linesparent").addChild(view.nodata()),this.stateLabel.innerHTML="My Projects",this.reactTo.hide(),this.searchWare.hide(),this.logout.hide()},openGlobalChat(){if(!app.getInfoLogin())return view.content.getIn(()=>{view.content.openGlobalChat()}),forceRecheck(view.main,"Silahkan Login Lebih Dahulu!");view.main.addChild(view.globalChat(()=>{view.content.displayList([],"loadartikel","true")}))},openServices(){this.clearLinesParent(),this.linesParent.addChild(view.openServices()),this.stateLabel.innerHTML="Info Jasa",this.reactTo.show("flex"),this.searchWare.hide(),this.logout.hide()},isInProfile(){let t=!1;return app.getInfoLogin()&&(t=!0),t},getIn(t){view.main.addChild(view.loginBox(t))},async openProfile(t=[],n="home",e,i){let a;if("object"==typeof i&&(i=null),!this.isInProfile()&&!i)return this.getIn(()=>{view.content.openProfile([],"home",!1,null)});this.clearLinesParent(),a=(await app.doglas.do(["database","users",i||app.userData.cleanEmail,"get"])).val(),"loadartikel"===n&&(n="home"),this.linesParent.addChild(view.profileDiv(n,e,i)),"home"===n?this.linesParent.addChild(view.profilePage(a)):"statistic"===n?this.linesParent.addChild(view.statistic(i)):"followers"===n||"following"===n?(t.forEach((n,e)=>{this.find("#linesparent").addChild(view.lineFollow(n,e+1,e!==t.length-1))}),0===t.length&&this.find("#linesparent").addChild(view.nodata())):(t.forEach((n,e)=>{this.find("#linesparent").addChild(view.line(n,e+1,e!==t.length-1))}),0===t.length&&this.find("#linesparent").addChild(view.nodata())),this.stateLabel.innerHTML="Profil Pengguna",this.reactTo.hide(),this.searchWare.hide(),i!==app.userData.cleanEmail&&i||this.logout.show("flex")},newPost(){if(!app.getInfoLogin())return view.content.getIn(()=>{view.content.newPost()}),forceRecheck(view.main,"Silahkan Login Lebih Dahulu!");this.addChild(view.newPost())},newJasa(){this.clearLinesParent(),this.linesParent.addChild(view.jasanew()),this.stateLabel.innerHTML="Post Jasa",this.reactTo.hide(),this.searchWare.hide(),this.logout.hide()},newLoker(){this.clearLinesParent(),this.linesParent.addChild(view.lokernew()),this.stateLabel.innerHTML="Post Loker",this.reactTo.hide(),this.searchWare.hide(),this.logout.hide()},openNotif(){if(!app.getInfoLogin())return view.content.getIn(()=>{view.content.openNotif()}),forceRecheck(view.main,"Silahkan Login Lebih Dahulu!");this.clearLinesParent(),this.linesParent.addChild(view.notif()),this.stateLabel.innerHTML="Notifmu",this.reactTo.hide(),this.searchWare.hide(),this.logout.hide()},openInbox(t=[],n="bid",e){if(!app.getInfoLogin())return view.content.getIn(()=>{view.content.openInbox([],"bid",!0)}),forceRecheck(view.main,"Silahkan Login Lebih Dahulu!");this.clearLinesParent(),"loadartikel"===n&&(n="bid"),this.find("#linesparent").addChild(view.myInboxDiv(n,e)),app.userData[n]=t,this.linesParent.addChild(view.inbox(n)),this.stateLabel.innerHTML="Inbox",this.reactTo.hide(),this.searchWare.hide(),this.logout.hide()}}),footer:makeElement("footer",{}),myProjectDiv:(t="OnGoing",n=!1)=>makeElement("div",{nav:t,style:"\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\toverflow: auto;\n\t\t\t\tbackground: white;\n\t\t\t\tborder-bottom: 1px solid whitesmoke;\n\t\t\t\talign-items: center;\n\t\t\t\tposition:sticky;\n\t\t\t\ttop:0;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\t  width: 100%;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: flex-start;\n\t\t\t\t\t\t/* margin: 2%; */\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t" id=berandadivmenu>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=OnGoing\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/ongoing.png class=navimg>\n\t\t\t\t\t\tOnGoing\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=Finished\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/finished.png class=navimg>\n\t\t\t\t\t\tFinished\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',buttonSetup(){this.findall("#berandadivmenu div").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},onadded(){this.find("#"+this.nav).style.borderBottom="3px solid black",this.find("#"+this.nav).style.fontFamily="montserratbold",this.find("#"+this.nav).scrollIntoView(),this.buttonSetup(),n&&this.OnGoing()},OnGoing(){view.addLoading(),app.doglas.do(["database","users",`${app.userData.cleanEmail}/onGoingProjects`,"get",""]).then(t=>{view.unloading();let n=t.val()||[];view.content.openMyproject(n,"OnGoing")})},Finished(){view.addLoading(),app.doglas.do(["database","users",`${app.userData.cleanEmail}/finishedProjects`,"get",""]).then(t=>{view.unloading();let n=t.val()||[];view.content.openMyproject(n,"Finished")})}}),myInboxDiv:(t="bid",n=!1)=>makeElement("div",{nav:t,style:"\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\toverflow: auto;\n\t\t\t\tbackground: white;\n\t\t\t\tborder-bottom: 1px solid whitesmoke;\n\t\t\t\talign-items: center;\n\t\t\t\tposition:sticky;\n\t\t\t\ttop:0;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\t  width: 100%;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: flex-start;\n\t\t\t\t\t\t/* margin: 2%; */\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t" id=berandadivmenu>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=bid\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/task.png class=navimg>\n\t\t\t\t\t\tBid\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=inbox\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/message.png class=navimg>\n\t\t\t\t\t\tInbox\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',buttonSetup(){this.findall("#berandadivmenu div").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},onadded(){this.find("#"+this.nav).style.borderBottom="3px solid black",this.find("#"+this.nav).style.fontFamily="montserratbold",this.find("#"+this.nav).scrollIntoView(),this.buttonSetup(),n&&this[this.nav]()},bid(){view.addLoading(),app.doglas.do(["database","users",`${app.userData.cleanEmail}/bid`,"get"]).then(t=>{view.unloading();let n=t.val()||[];view.content.openInbox(n,"bid")})},inbox(){view.addLoading(),app.doglas.do(["database","users",`${app.userData.cleanEmail}/inbox`,"get"]).then(t=>{view.unloading();let n=t.val()||[];view.content.openInbox(n,"inbox")})}}),searchDiv:(t="loadartikel",n=!1)=>makeElement("div",{nav:t,style:"\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\toverflow: auto;\n\t\t\t\tmargin: 2% 0;\n\t\t\t\tbackground: white;\n\t\t\t\talign-items: center;\n\t\t\t\tposition:sticky;\n\t\t\t\ttop:0;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\t  width: 100%;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: flex-start;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t" id=berandadivmenu>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tpadding: 10px 20px;\n\t\t\t\t\t"\n\t\t\t\t\tid=loadloker\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/task.png class=navimg>\n\t\t\t\t\t\tProject\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tpadding: 10px 20px;\n\t\t\t\t\t"\n\t\t\t\t\tid=loadjasa\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/servicesicon.png class=navimg>\n\t\t\t\t\t\tJasa\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px 20px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=loadcerpen\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/newsicon.png class=navimg>\n\t\t\t\t\t\tNews\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px 20px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=loadartikel\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/articleicon.png class=navimg>\n\t\t\t\t\t\tArtikel\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',buttonSetup(){this.findall("#berandadivmenu div").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},onadded(){this.find("#"+this.nav).style.borderBottom="3px solid black",this.find("#"+this.nav).style.fontFamily="montserratbold",this.find("#"+this.nav).scrollIntoView(),this.buttonSetup(),n&&this.loadloker()},loadjasa(){view.addLoading(),app.doglas.do(["database","post","Services","get",""]).then(t=>{view.unloading();let n=t.val()||{};view.content.displayList(objToArray(n),"loadjasa")})},loadcerpen(){view.addLoading(),app.doglas.do(["database","post","ShortStories","get",""]).then(t=>{view.unloading();let n=t.val()||{};view.content.displayList(objToArray(n),"loadcerpen")})},loadartikel(){view.addLoading(),app.doglas.do(["database","post","Articles","get",""]).then(t=>{view.unloading();let n=t.val()||{};view.content.displayList(objToArray(n),"loadartikel")})},loadloker(){view.addLoading(),app.doglas.do(["database","post","Jobs","get",""]).then(t=>{view.unloading();let n=t.val()||{};view.content.displayList(objToArray(n),"loadloker")})}}),lineFollow:(t,n,e=!0)=>makeElement("div",{className:"lines",innerHTML:`\n\t\t\t\t<div class=item style=${e?"":"border-bottom:0;"}>\n\t\t\t\t\t<div class=thumbnail>\n\t\t\t\t\t\t<div>#${n}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=moreinfo>\n\t\t\t\t\t\t<div class=addressinfo style=margin-bottom:8px;>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img class=profileimg src=${t.profilepicture||app.noProfilePng}>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="username title">@${t.username}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,onadded(){this.find(".username").onclick=(()=>{app.dataContent=t,view.addLoading(),view.content.openProfile([],"home",!1,t.id)})}}),line(t,n,e=!0){const i=t.title.length>100?"...":"";return makeElement("div",{className:"lines",innerHTML:`\n\t\t\t\t<div class=item style=${e?"":"border-bottom:0;"}>\n\t\t\t\t\t<div class=thumbnail>\n\t\t\t\t\t\t<div>#${n}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=moreinfo>\n\t\t\t\t\t\t<div id=fee>\n\t\t\t\t\t\t\t${"Jobs"===t.type?"Maks":"Min"} Bid Rp ${getPrice(t.maxFee||t.minFee)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=title>\n\t\t\t\t\t\t\t${t.title.slice(0,100)+i}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=addressinfo>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img class=profileimg src=${t.profilepicture}>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=username>${t.username},</div>\n\t\t\t\t\t\t\t<div class=date>${SmartTime(t.time)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=vshareinfo>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span style=font-size:11px>${t.view||0} kali dibaca</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:68px;\n\t\t\t\t\t\twidth:30%;\n\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\tmargin-right:5px;\n\t\t\t\t\t">\n\t\t\t\t\t\t<img src=${t.preview||"./more/media/nothumbnailnew.png"} style="\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,onadded(){t.maxFee||t.minFee?this.find(".vshareinfo").remove():this.find("#fee").remove(),this.find(".title").onclick=(()=>{app.dataContent=t,view.content[`open${t.type}`]()}),this.find(".username").onclick=(()=>{app.dataContent=t,view.addLoading(),view.content.openProfile([],"home",!1,t.owner)})}})},projectList(t,n,e=!0){const i=t.title.length>100?"...":"";return makeElement("div",{className:"lines",innerHTML:`\n\t\t\t\t<div class=item style=${e?"":"border-bottom:0;"}>\n\t\t\t\t\t<div class=thumbnail>\n\t\t\t\t\t\t<div>#${n}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=moreinfo>\n\t\t\t\t\t\t<div id=fee>\n\t\t\t\t\t\t\tFee Rp ${getPrice(t.fee)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=title>\n\t\t\t\t\t\t\t${t.title.slice(0,100)+i}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=addressinfo>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img class=profileimg src=${t.owner===app.userData.cleanEmail?t.bidderProfileIdPic:t.profilepicture}>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=username>${t.owner===app.userData.cleanEmail?t.bidder:t.username},</div>\n\t\t\t\t\t\t\t<div class=date>${SmartTime(t.time)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:68px;\n\t\t\t\t\t\twidth:30%;\n\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\tmargin-right:5px;\n\t\t\t\t\t">\n\t\t\t\t\t\t<img src=${t.preview||"./more/media/nothumbnailnew.png"} style="\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,onadded(){this.find(".title").onclick=(()=>{this.chatData=t,this.openChat()}),this.find(".username").onclick=(()=>{app.dataContent=t,view.addLoading(),view.content.openProfile([],"home",!1,t.owner===app.userData.cleanEmail?t.bidderProfileId:t.owner)})},openChat(){view.main.addChild(view.OnGoingChat(this.chatData,()=>{view.content.openMyproject([],"OnGoing",!0)}))}})},articlenew:()=>makeElement("div",{style:"\n\t\t\t\tmargin:3%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t\tgap:10px;\n\t\t\t\theight:94%;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tPreview\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100px;\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\tborder:1px solid #e0e0e0;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img id=preview style="\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tpadding: 5px;\n\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\tborder: 1px solid #e0e0e0;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\tz-index:1;\n\t\t\t\t\t\t" id=choosePreview class=thebutton>\n\t\t\t\t\t\t\t<img src=./more/media/plus.png style="\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tjustify-content: space-around;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tgap:10px;\n\t\t\t\t\tposition:sticky;\n\t\t\t\t\ttop:0;\n\t\t\t\t\tbackground:white;\n\t\t\t\t"\n\t\t\t\tid=newartilebuttons\n\t\t\t\t>\n\t\t\t\t\t<div style=width:100%; class=thebutton id=publish>\n\t\t\t\t\t\t<div class="button buttonstyled" style="\n\t\t\t\t\t\t\tjustify-content:center;display:flex;\n\t\t\t\t\t\t\talign-items:center;gap:10px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/whiteupload.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>Terbitkan</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:20%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tJudul Artikel\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<textarea placeholder="Tulis Judul Artikel Disini..." style="height:100%;resize:none;border-radius:0;" id=title></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:80%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tIsi<span class=star>* <span class=sosmall>min 2000 characters</span></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<textarea placeholder="Tulis Isi Artikel..." style="height:100%;resize:none;border-radius:0 0 20px 20px;" id=description></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',choosePreview(){const t=t=>{this.filepreview=t;const n=new FileReader;n.onload=(()=>{this.find("#preview").src=n.result,this.find("#preview").show("block")}),n.readAsDataURL(t)};this.preview||(this.preview=makeElement("input",{type:"file",accept:"image/*",onchange(){const n=this.files[0];t(n)}})),this.preview.click()},collectData(){const t={};return this.filepreview&&(t.preview=this.filepreview),this.findall("textarea").forEach(n=>{t[n.id]=n.value}),Object.assign(t,{date:getFullDate(),time:getTime(),owner:app.userData.cleanEmail,type:"Articles",postId:getUniqueID(),username:app.userData.username,profilepicture:app.userData.profilepicture||app.noProfilePng,more:{like:[],share:[],comments:[],view:[]}}),t},setupButton(){this.findall(".thebutton").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},addFiles(){},saveToDraft(){},publish(){const t=this.collectData();if(t.description.length<2e3)return forceRecheck(view.main,"Maaf Konten Terlalu Sedikit, Dibutuhkan Minimal 2000 Huruf.");view.main.addChild(view.loadingPost(t))},onadded(){this.setupButton()}}),jasanew:()=>makeElement("div",{style:"\n\t\t\t\tmargin:3%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t\tgap:10px;\n\t\t\t\theight:94%;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tPreview\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100px;\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\tborder:1px solid #e0e0e0;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img id=preview style="\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tpadding: 5px;\n\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\tborder: 1px solid #e0e0e0;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\tz-index:1;\n\t\t\t\t\t\t" id=choosePreview class=thebutton>\n\t\t\t\t\t\t\t<img src=./more/media/plus.png style="\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tjustify-content: space-around;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tgap:10px;\n\t\t\t\t\tposition:sticky;\n\t\t\t\t\ttop:0;\n\t\t\t\t\tbackground:white;\n\t\t\t\t"\n\t\t\t\tid=newartilebuttons\n\t\t\t\t>\n\t\t\t\t\t<div style=width:100%; class=thebutton id=publish>\n\t\t\t\t\t\t<div class="button buttonstyled" style="\n\t\t\t\t\t\t\tjustify-content:center;display:flex;\n\t\t\t\t\t\t\talign-items:center;gap:10px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/whiteupload.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>Terbitkan</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tMin-Fee\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input placeholder="Misal 200.000.00" style="height:100%;border-radius:0;">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:20%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tNama Jasa\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<textarea placeholder="Tulis Nama Pekerjaan Disini..." style="height:100%;resize:none;border-radius:0;" id=title></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:80%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tDeskripsi Dan Persyaratan\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<textarea placeholder="Tulis Keterangan Disini..." style="height:100%;resize:none;border-radius:0 0 20px 20px;" id=description></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',choosePreview(){const t=t=>{this.filepreview=t;const n=new FileReader;n.onload=(()=>{this.find("#preview").src=n.result,this.find("#preview").show("block")}),n.readAsDataURL(t)};this.preview||(this.preview=makeElement("input",{type:"file",accept:"image/*",onchange(){const n=this.files[0];t(n)}})),this.preview.click()},collectData(){this.feeInput.value=this.feeInput.value.replaceAll("Rp ",""),this.feeInput.value=this.feeInput.value.replaceAll(".","");const t={minFee:Number(this.find("input").value)};return this.filepreview&&(t.preview=this.filepreview),this.findall("textarea").forEach(n=>{t[n.id]=n.value}),Object.assign(t,{date:getFullDate(),time:getTime(),owner:app.userData.cleanEmail,type:"Services",postId:getUniqueID(),username:app.userData.username,profilepicture:app.userData.profilepicture||app.noProfilePng,more:{like:[],share:[],comments:[],view:[]}}),t},clearFeeInput(){this.feeInput=this.find("input"),this.feeInput.oninput=(t=>{const n=this.feeInput.value.replaceAll(t.data,"");!isNaN(t.data)&&t.data?(this.feeInput.value=this.feeInput.value.replaceAll("Rp ",""),this.feeInput.value=this.feeInput.value.replaceAll(".",""),this.feeInput.value="Rp "+getPrice(this.feeInput.value)):2===this.feeInput.value.length?this.feeInput.value="Rp ":this.feeInput.value=n})},setupButton(){this.findall(".thebutton").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},addFiles(){},saveToDraft(){},publish(){const t=this.collectData();view.main.addChild(view.loadingPost(t))},onadded(){this.clearFeeInput(),this.setupButton()}}),lokernew:()=>makeElement("div",{style:"\n\t\t\t\tmargin:3%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t\tgap:10px;\n\t\t\t\theight:94%;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tPreview\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100px;\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\tborder:1px solid #e0e0e0;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img id=preview style="\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tpadding: 5px;\n\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\tborder: 1px solid #e0e0e0;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\tz-index:1;\n\t\t\t\t\t\t" id=choosePreview class=thebutton>\n\t\t\t\t\t\t\t<img src=./more/media/plus.png style="\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tjustify-content: space-around;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tgap:10px;\n\t\t\t\t\tposition:sticky;\n\t\t\t\t\ttop:0;\n\t\t\t\t\tbackground:white;\n\t\t\t\t"\n\t\t\t\tid=newartilebuttons\n\t\t\t\t>\n\t\t\t\t\t<div style=width:100%; class=thebutton id=publish>\n\t\t\t\t\t\t<div class="button buttonstyled" style="\n\t\t\t\t\t\t\tjustify-content:center;display:flex;\n\t\t\t\t\t\t\talign-items:center;gap:10px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/whiteupload.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>Terbitkan</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tMax-Fee\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input placeholder="Misal 200.000.00" style="height:100%;border-radius:0;">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:20%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tNama Pekerjaan\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<textarea placeholder="Tulis Nama Pekerjaan Disini..." style="height:100%;resize:none;border-radius:0;" id=title></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:80%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tDeskripsi Dan Persyaratan\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<textarea placeholder="Tulis Keterangan Disini..." style="height:100%;resize:none;border-radius:0 0 20px 20px;" id=description></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',choosePreview(){const t=t=>{this.filepreview=t;const n=new FileReader;n.onload=(()=>{this.find("#preview").src=n.result,this.find("#preview").show("block")}),n.readAsDataURL(t)};this.preview||(this.preview=makeElement("input",{type:"file",accept:"image/*",onchange(){const n=this.files[0];t(n)}})),this.preview.click()},clearFeeInput(){this.feeInput=this.find("input"),this.feeInput.oninput=(t=>{const n=this.feeInput.value.replaceAll(t.data,"");!isNaN(t.data)&&t.data?(this.feeInput.value=this.feeInput.value.replaceAll("Rp ",""),this.feeInput.value=this.feeInput.value.replaceAll(".",""),this.feeInput.value="Rp "+getPrice(this.feeInput.value)):2===this.feeInput.value.length?this.feeInput.value="Rp ":this.feeInput.value=n})},collectData(){this.feeInput.value=this.feeInput.value.replaceAll("Rp ",""),this.feeInput.value=this.feeInput.value.replaceAll(".","");const t={maxFee:Number(this.find("input").value)};return this.filepreview&&(t.preview=this.filepreview),this.findall("textarea").forEach(n=>{t[n.id]=n.value}),Object.assign(t,{date:getFullDate(),time:getTime(),owner:app.userData.cleanEmail,type:"Jobs",postId:getUniqueID(),username:app.userData.username,profilepicture:app.userData.profilepicture||app.noProfilePng,more:{like:[],share:[],comments:[],view:[]},winner:"unset"}),t},setupButton(){this.findall(".thebutton").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},addFiles(){},saveToDraft(){},publish(){const t=this.collectData();view.main.addChild(view.loadingPost(t))},onadded(){this.clearFeeInput(),this.setupButton()}}),openArticles(){const t=app.dataContent;return makeElement("div",{style:"\n\t\t\t\tpadding:0 3%;\n\t\t\t\theight:100%;\n\t\t\t\toverflow:auto;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tgap:8px;\n\t\t\t\t\tmargin-top:10px;\n\t\t\t\t">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img class=profileimg src=./more/media/gemaprofile.png>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=username>${t.username},</div>\n\t\t\t\t\t<div class=date>${SmartTime(t.time)}</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\tmargin:10px 0;\n\t\t\t\t">${t.title}</div>\n\t\t\t\t<div style="\n\t\t\t\t\twidth:100%;\n\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t">\n\t\t\t\t\t<img src=${t.preview||"./more/media/nothumbnailnew.png"} style="\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t">\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:100%;\n\t\t\t\t">\n\t\t\t\t\t${t.description.replaceAll("\n","<br>")}\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tposition:sticky;\n\t\t\t\t\t\tbottom:0;\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight:50px;\n\t\t\t\t\t\tleft:0;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\t\tbackground:#15244e;\n\t\t\t\t\t\t\tcolor:white;\n\t\t\t\t\t\t\tborder:1px solid black;\n\t\t\t\t\t\t\tborder-bottom:none;\n\t\t\t\t\t\t\tborder-radius:20px 20px 0 0;\n\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tLihat Komentar\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t`,onadded(){this.find(".username").onclick=(()=>{app.dataContent=t,view.addLoading(),view.content.openProfile([],"home",!1,t.owner)}),this.updateView()},async updateView(){let n=(await app.doglas.do(["database","post",`${t.type}/${t.postId}/view`,"get"])).val()||0;n+=1,await app.doglas.do(["database","post",`${t.type}/${t.postId}/view`,"set",n])},generateComment(t){this.addChild(makeElement("div",{onadded(){this.addChild(view.comment(userData.content[t].more.comment))}}))}})},openServices(){const t=app.dataContent;return makeElement("div",{style:"\n\t\t\t\tpadding:0 3%;\n\t\t\t\theight:100%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t\toverflow:auto;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\twidth:100%;\n\t\t\t\t\theight:200px;\n\t\t\t\t">\n\t\t\t\t\t<img src=${t.preview||"./more/media/nothumbnailnew.png"} style="\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t">\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tgap:8px;\n\t\t\t\t\tmargin:10px 0;\n\t\t\t\t">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img class=profileimg src=${t.profilepicture||app.noProfilePng}>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=username>${t.username},</div>\n\t\t\t\t\t<div class=date>${SmartTime(t.time)}</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=fee>${"Jobs"===t.type?"Maks Bid":"Min Bid"} Rp ${getPrice(t.maxFee||t.minFee)}</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:100%;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\tmargin:10px 0;\n\t\t\t\t\t">${t.title}</div>\n\t\t\t\t\t<div>${t.description.replaceAll("\n","<br>")}</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tposition:sticky;\n\t\t\t\t\tbottom:0;\n\t\t\t\t\twidth:100%;\n\t\t\t\t\theight:50px;\n\t\t\t\t\tleft:0;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tjustify-content:center;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\tbackground:#15244e;\n\t\t\t\t\t\tcolor:white;\n\t\t\t\t\t\tborder-bottom:none;\n\t\t\t\t\t\tborder-radius:20px 20px 0 0;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\tdisplay:${app.userData&&t.owner===app.userData.cleanEmail?"none":"flex"};\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t" id=dooffers>\n\t\t\t\t\t\tBuat Penawaran\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\tbackground:red;\n\t\t\t\t\t\tcolor:white;\n\t\t\t\t\t\tborder-bottom:none;\n\t\t\t\t\t\tborder-radius:20px 20px 0 0;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\tdisplay:${app.userData&&t.owner===app.userData.cleanEmail?"flex":"none"};\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t" id=delete>\n\t\t\t\t\t\tHapus Penawaran\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,onadded(){this.find("#dooffers").onclick=(()=>{this.doOffers()}),this.find(".username").onclick=(()=>{app.dataContent=t,view.addLoading(),view.content.openProfile([],"home",!1,t.owner)})},doOffers(){if(!app.getInfoLogin())return view.content.getIn(()=>{view.content.openJobs()}),forceRecheck(view.main,"Silahkan Login Terlebih Dahulu!");view.main.addChild(view.servicesOfferPage({subject:t.title,minFee:t.minFee,type:t.type,postid:t.postId,owner:t.owner,profilepicture:t.profilepicture,username:t.username}))}})},openJobs(){const t=app.dataContent;return makeElement("div",{style:"\n\t\t\t\tpadding:0 3%;\n\t\t\t\theight:100%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t\toverflow:auto;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\twidth:100%;\n\t\t\t\t\theight:200px;\n\t\t\t\t">\n\t\t\t\t\t<img src=${t.preview||"./more/media/nothumbnailnew.png"} style="\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t">\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tgap:8px;\n\t\t\t\t\tmargin:10px 0;\n\t\t\t\t">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img class=profileimg src=${t.profilepicture||app.noProfilePng}>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=username>${t.username},</div>\n\t\t\t\t\t<div class=date>${SmartTime(t.time)}</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=fee>${"Jobs"===t.type?"Maks Bid":"Min Bid"} Rp ${getPrice(t.maxFee||t.minFee)}</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:100%;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\tmargin:10px 0;\n\t\t\t\t\t">${t.title}</div>\n\t\t\t\t\t<div>${t.description.replaceAll("\n","<br>")}</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tposition:sticky;\n\t\t\t\t\tbottom:0;\n\t\t\t\t\twidth:100%;\n\t\t\t\t\theight:50px;\n\t\t\t\t\tleft:0;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tjustify-content:center;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\tbackground:#15244e;\n\t\t\t\t\t\tcolor:white;\n\t\t\t\t\t\tborder-bottom:none;\n\t\t\t\t\t\tborder-radius:20px 20px 0 0;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\tdisplay:${app.userData&&t.owner===app.userData.cleanEmail?"none":"flex"};\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t" id=dooffers>\n\t\t\t\t\t\tBuat Penawaran\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\tbackground:red;\n\t\t\t\t\t\tcolor:white;\n\t\t\t\t\t\tborder-bottom:none;\n\t\t\t\t\t\tborder-radius:20px 20px 0 0;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\tdisplay:${app.userData&&t.owner===app.userData.cleanEmail?"flex":"none"};\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t" id=delete>\n\t\t\t\t\t\tHapus Penawaran\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,onadded(){this.find("#dooffers").onclick=(()=>{this.doOffers()}),this.find("#delete").onclick=(()=>{this.deletePost()}),this.find(".username").onclick=(()=>{app.dataContent=t,view.addLoading(),view.content.openProfile([],"home",!1,t.owner)})},deletePost(){view.main.addChild(view.userRemovePost(t))},doOffers(){if(!app.getInfoLogin())return view.content.getIn(()=>{view.content.openJobs()}),forceRecheck(view.main,"Silahkan Login Terlebih Dahulu!");view.main.addChild(view.jobsOfferPage({subject:t.title,maxFee:t.maxFee,type:t.type,postid:t.postId,owner:t.owner,profilepicture:t.profilepicture,username:t.username,preview:t.preview}))}})},userRemovePost:t=>makeElement("div",{datatoupload:t,style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:center;\n\t\t\t\tbackground:#00000040;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tborder-radius:0 0 20px 20px;\n\t\t\t\t\tbackground:white;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:3%;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tProses Uploading\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div id=text>\n\t\t\t\t\t\t\tMohon Tunggu Sebentar, Sedang Mengapus Data.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',handleResponse(t){t?(this.text.innerHTML="Terjadi masalah saat menghapus, coba lagi nanti.",this.remove()):this.text.innerHTML="Data Berhasil Hapus"},async DoRequest(){const t=(await app.doglas.do(["database","users",`${this.datatoupload.owner}/notif`,"get"])).val()||[];t.push({profilepicture:app.userData.profilepicture,who:"Kamu",when:getFullDate(),what:`Menghapus postingan ${this.datatoupload.type} ${this.datatoupload.title}`}),await app.doglas.do(["database","users",`${this.datatoupload.owner}/notif`,"set",t]),await app.doglas.do(["database","post",`${this.datatoupload.type}/${this.datatoupload.postId}`,"remove"]),this.handleResponse()},onadded(){this.find("#closethis").onclick=(()=>{view.content.displayList([],"loadartikel",!0),this.remove()}),this.text=this.find("#text"),this.DoRequest()}}),openShortStories(){const t=app.dataContent;return makeElement("div",{style:"\n\t\t\t\tpadding:0 3%;\n\t\t\t\theight:100%;\n\t\t\t\toverflow:auto;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tgap:8px;\n\t\t\t\t\tmargin-top:10px;\n\t\t\t\t">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img class=profileimg src=./more/media/gemaprofile.png>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=username>${t.username},</div>\n\t\t\t\t\t<div class=date>${SmartTime(t.time)}</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\tmargin:10px 0;\n\t\t\t\t">${t.title}</div>\n\t\t\t\t<div style="\n\t\t\t\t\twidth:100%;\n\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t">\n\t\t\t\t\t<img src=${t.preview||"./more/media/nothumbnailnew.png"} style="\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t">\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:100%;\n\t\t\t\t">\n\t\t\t\t\t${t.description.replaceAll("\n","<br>")}\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tposition:sticky;\n\t\t\t\t\t\tbottom:0;\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight:50px;\n\t\t\t\t\t\tleft:0;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\t\tbackground:#15244e;\n\t\t\t\t\t\t\tcolor:white;\n\t\t\t\t\t\t\tborder:1px solid black;\n\t\t\t\t\t\t\tborder-bottom:none;\n\t\t\t\t\t\t\tborder-radius:20px 20px 0 0;\n\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tLihat Komentar\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,onadded(){this.find(".username").onclick=(()=>{app.dataContent=t,view.addLoading(),view.content.openProfile([],"home",!1,t.owner)})},generateComment(t){this.addChild(makeElement("div",{onadded(){this.addChild(view.comment(userData.content[t].more.comment))}}))}})},profilePage:t=>(t||(t=app.userData),makeElement("div",{style:"\n\t\t\t\tborder-radius:0 0 20px 20px;\n\t\t\t\tposition:relative;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\theight:150px;\n\t\t\t\t\twidth:100%;\n\t\t\t\t\tbackground:#15244e;\n\t\t\t\t\tposition:relative;\n\t\t\t\t">\n\t\t\t\t\t<img id=bannerimg style="\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t" src="${t.bannerpic}" ${t.bannerpic?"":"hidden"}>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tdisplay: ${t.cleanEmail===app.userData.cleanEmail?"flex":"none"};\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tborder-radius: 0 0 0 20px;\n\t\t\t\t\t\tborder: 2px solid whitesmoke;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t" id=editbanner>\n\t\t\t\t\t\t<img src=./more/media/edit.png style="\n\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div id=topFront\n\t\t\t\tstyle="\n\t\t\t\t\theight: 300px;\n\t\t\t\t\twidth: 88%;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tmargin: 0 6%;\n\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t"\n\t\t\t\t>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:8px;\n\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\twidth:128px;\n\t\t\t\t\t\theight:128px;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t">\n\t\t\t\t\t\t<img src=${t.profilepicture||app.noProfilePng}\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\twidth:128px;\n\t\t\t\t\t\t\theight:128px;\n\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t"\n\t\t\t\t\t\tid=profilepicture\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder: 2px solid whitesmoke;\n\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\tdisplay:${t.cleanEmail===app.userData.cleanEmail?"":"none"};\n\t\t\t\t\t\t" id=editPicture>\n\t\t\t\t\t\t\t<img src=./more/media/edit.png style="\n\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:8px;\n\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\tborder:2px solid whitesmoke;\n\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\tdisplay: ${t.cleanEmail===app.userData.cleanEmail?"flex":"none"};\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t" id=editProfile>\n\t\t\t\t\t\t<img src=./more/media/edit.png\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t"\n\t\t\t\t\t\t>Edit Profil\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\tstyle="\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tborder-bottom: 1px solid whitesmoke;\n\t\t\t\t"\n\t\t\t\t>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tmargin: 78px 6% 20px 6%;\n\t\t\t\t\t" id=info>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t"><span>@${t.username}</span></div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tcolor:gray;\n\t\t\t\t\t\t"><span>${t.name||"-"}</span></div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tcolor:gray;\n\t\t\t\t\t\t"><span>${t.bio||"-"}</span></div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\tgap: 10px;\n\t\t\t\t\t\t\tmargin-top:10px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div id=followers>[loading...] followers</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div id=following>[loading...] following</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tborder-bottom:1px solid whitesmoke;\n\t\t\t\t\tdisplay: ${t.cleanEmail===app.userData.cleanEmail?"none":"flex"};\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tfont-family: 'montserratbold';\n\t\t\t\t\toverflow:auto;\n\t\t\t\t">\n\t\t\t\t\t<div\n\t\t\t\t\tstyle="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tmargin:10px 6%;\n\t\t\t\t\t\tgap:8px;\n\t\t\t\t\t\tjustify-content:space-around;\n\t\t\t\t\t"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class="button buttonstyled" style="\n\t\t\t\t\t\t\t\tborder-radius:20px;display:flex;\n\t\t\t\t\t\t\t\talign-items:center;gap:5px;font-size:10px;\n\t\t\t\t\t\t\t" id=chat>\n\t\t\t\t\t\t\t\t<img src=./more/media/whitechat.png\n\t\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>CHAT</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=follow style="\n\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div class="button buttonstyled" style="\n\t\t\t\t\t\t\t\tborder-radius:20px;display:flex;\n\t\t\t\t\t\t\t\talign-items:center;gap:5px;font-size:10px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<img src=./more/media/followwhite.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>FOLLOW</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=unfollow style="\n\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div class="button buttonstyled" style="\n\t\t\t\t\t\t\t\tborder-radius:20px;display:flex;\n\t\t\t\t\t\t\t\talign-items:center;gap:5px;font-size:10px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<img src=./more/media/unfollow.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>UNFOLLOW</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,showDataFollowAndProject(){const n=t.following?t.following.length:0,e=t.followers?t.followers.length:0;this.find("#followers").innerText=e+" followers",this.find("#following").innerText=n+" following"},followOnFollow(){if(t.followers&&app.getInfoLogin()){let n;t.followers.forEach(t=>{t.id!==app.userData.cleanEmail||(n=!0)}),n?(this.unfollowButton.show("flex"),this.followButton.hide()):this.followButton.show("flex")}else this.followButton.show("flex")},onadded(){this.generateMore(),this.find("#editProfile").onclick=(()=>{this.edit()}),this.find("#editPicture").onclick=(()=>{this.editPicture()}),this.find("#editbanner").onclick=(()=>{this.editbanner()}),this.find("#chat").onclick=(()=>{this.sendmemsg()}),this.followButton=this.find("#follow"),this.unfollowButton=this.find("#unfollow"),this.followButton.onclick=(()=>{this.followme()}),this.unfollowButton.onclick=(()=>{this.unfollow()}),this.showDataFollowAndProject(),this.followOnFollow(),view.unloading()},async unfollow(){if(!app.getInfoLogin())return view.content.getIn(()=>{view.content.openProfile([],"home",!1,t.cleanEmail)}),forceRecheck(view.main,"Silahkan Login Lebih Dahulu!");const n=(await app.doglas.do(["database","users",`${t.cleanEmail}/followers`,"get"])).val()||[],e=[];n.forEach(t=>{t.id!==app.userData.cleanEmail&&e.push(t)}),await app.doglas.do(["database","users",`${t.cleanEmail}/followers`,"set",e]);const i=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/following`,"get"])).val()||[],a=[];i.forEach(n=>{n.id!==t.cleanEmail&&a.push(n)}),await app.doglas.do(["database","users",`${app.userData.cleanEmail}/following`,"set",a]);const d=(await app.doglas.do(["database","users",`${t.cleanEmail}/notif`,"get"])).val()||[];d.push({who:app.userData.username,profilepicture:app.userData.profilepicture,when:getFullDate(),what:"Berhenti mengikuti anda."}),await app.doglas.do(["database","users",`${t.cleanEmail}/notif`,"set",d]);const s=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"get"])).val()||[];s.push({who:"Kamu",profilepicture:app.userData.profilepicture,when:getFullDate(),what:`Berhenti mengikuti ${t.username}`}),await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"set",s]),view.content.openProfile([],"home",!1,t.cleanEmail)},generateMore(){for(let n in t.more)this.find("#info").addChild(makeElement("div",{style:"\n\t\t\t\t\t\t\tmargin-top: 10px;\n\t\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\t\tpadding-top: 2px;\n\t\t\t\t\t\t",innerHTML:`\n\t\t\t\t\t\t\t<div>${n}</div>\n\t\t\t\t\t\t\t<div id=infodata\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\tgap:8px;\n\t\t\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\tpadding:2px 5px;\n\t\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t${t.more[n]}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`}))},generateContent(){this.addChild(makeElement("div",{onadded(){t.content.list.forEach((n,e)=>{const i=e!=t.content.length-1;this.addChild(view.line(t.content[n],e+1,i))})}}))},edit(){view.main.addChild(view.editPop())},editbanner(){view.main.addChild(view.editBanner(this))},editPicture(){view.main.addChild(view.editPic(this))},async followme(){if(!app.getInfoLogin())return view.content.getIn(()=>{view.content.openProfile([],"home",!1,t.cleanEmail)}),forceRecheck(view.main,"Silahkan Login Lebih Dahulu!");const n=(await app.doglas.do(["database","users",`${t.cleanEmail}/followers`,"get"])).val()||[];n.push({username:app.userData.username,id:app.userData.cleanEmail,date:getFullDate(),time:getTime(),profilepicture:app.userData.profilepicture}),await app.doglas.do(["database","users",`${t.cleanEmail}/followers`,"set",n]);const e=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/following`,"get"])).val()||[];e.push({username:t.username,id:t.cleanEmail,date:getFullDate(),time:getTime(),profilepicture:t.profilepicture}),await app.doglas.do(["database","users",`${app.userData.cleanEmail}/following`,"set",e]);const i=(await app.doglas.do(["database","users",`${t.cleanEmail}/notif`,"get"])).val()||[];i.push({who:app.userData.username,profilepicture:app.userData.profilepicture,when:getFullDate(),what:"Mulai mengikuti anda."}),await app.doglas.do(["database","users",`${t.cleanEmail}/notif`,"set",i]);const a=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"get"])).val()||[];a.push({who:"Kamu",profilepicture:app.userData.profilepicture,when:getFullDate(),what:`Mulai mengikuti ${t.username}`}),await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"set",a]),view.content.openProfile([],"home",!1,t.cleanEmail)},async sendmemsg(){if(!app.getInfoLogin())return view.content.getIn(()=>{this.sendmemsg()}),forceRecheck(view.main,"Silahkan Login Lebih Dahulu!");const n=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/inbox`,"get"])).val()||[];let e;((await app.doglas.do(["database","users",`${t.cleanEmail}/inbox`,"get"])).val()||[]).forEach(t=>{t.to!==app.userData.cleanEmail||(e=t)});let i,a=null;if(n.forEach(n=>{n.to!==t.cleanEmail||(a=n)}),!a){i=e?e.roomId:getUniqueID();const n=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/inbox`,"get"])).val()||[];a={roomId:i,to:t.cleanEmail,toProfile:t.profilepicture,date:getFullDate(),toUsername:t.username},n.push(a),await app.doglas.do(["database","users",`${app.userData.cleanEmail}/inbox`,"set",n]),await app.doglas.do(["database","privateChat",`${i}/peoples`,"set",[app.userData.cleanEmail,t.cleanEmail]])}if(!e){i||(i=a.roomId);const n=(await app.doglas.do(["database","users",`${t.cleanEmail}/inbox`,"get"])).val()||[];n.push({roomId:i,to:app.userData.cleanEmail,toProfile:app.userData.profilepicture,date:getFullDate(),toUsername:app.userData.username}),await app.doglas.do(["database","users",`${t.cleanEmail}/inbox`,"set",n])}view.main.addChild(view.openPrivateChat(a))}})),comment:t=>makeElement("div",{style:"\n\t\t\t\tmargin-top:10px;\n\t\t\t",onadded(){t.forEach((n,e)=>{this.addChild(makeElement("div",{style:`\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\talign-item:center;\n\t\t\t\t\t\t\tmargin-top:8px;\n\t\t\t\t\t\t\tmargin-bottom:${e===t.length-1?20:0}px;\n\t\t\t\t\t\t`,innerHTML:`\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img src=${n.profilepicture}\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\t\tmargin-top:8px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<div>${n.username}</div>\n\t\t\t\t\t\t\t\t\t<div>${n.date}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>${n.text}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`}))})}}),newPost:()=>makeElement("div",{id:"chooseType",style:"\n\t\t\t\tposition:absolute;\n\t\t\t\ttop:0;\n\t\t\t\tleft:0;\n\t\t\t\tbackground:rgba(0, 0, 0, 0.25);\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:'\n\t\t\t<div style="\n\t\t\t\tbackground: white;\n\t\t\t\twidth: 92%;\n\t\t\t\tpadding: 4%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\toverflow: auto;\n\t\t\t\theight: 100%;\n\t\t\t\tpadding-top:0;\n\t\t\t">\n\t\t\t\t<div style="\n\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\tpadding:0 5px;\n\t\t\t\t\tposition:sticky;\n\t\t\t\t\ttop:0;\n\t\t\t\t\tpadding:20px;\n\t\t\t\t\tbackground:white;\n\t\t\t\t">\n\t\t\t\t\tPostingan Baru\n\t\t\t\t\t<img src=./more/media/close.png class=navimg style="\n\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t" id=closethis>\n\t\t\t\t</div>\n\t\t\t\t<div class=newpostmenu>\n\t\t\t\t\t<div id=newCerpen class=child>\n\t\t\t\t\t\t<img src=./more/media/newsicon.png>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>News</div>\n\t\t\t\t\t\t\t<div style="font-family:montserratregular">Posting Berita terbaru, bagikan informasi!</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=newArticle class=child>\n\t\t\t\t\t\t<img src=./more/media/articleicon.png>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Artikel</div>\n\t\t\t\t\t\t\t<div style="font-family:montserratregular">Posting Artikel, Dan Bagikan Pemikiranmu!</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=newJasa class=child>\n\t\t\t\t\t\t<img src=./more/media/servicesicon.png>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Jasa</div>\n\t\t\t\t\t\t\t<div style="font-family:montserratregular">Posting Jasa, Dan Temukan Klienmu!</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=newLoker class=child>\n\t\t\t\t\t\t<img src=./more/media/task.png>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Loker</div>\n\t\t\t\t\t\t\t<div style="font-family:montserratregular">Posting Tugasmu, Dan Biarkan Mereka Yang Nyelesain!</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t',buttonEvent(){this.findall(".newpostmenu .child").forEach(t=>{t.onclick=(()=>{this[t.id](),this.find("#closethis").click()})})},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.buttonEvent()},newArticle(){view.content.newArticle()},newCerpen(){view.content.newCerpen()},newJasa(){view.content.newJasa()},newLoker(){view.content.newLoker()}}),loginBox:t=>makeElement("div",{after:t,style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000040;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\theight:100%;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tLogin circletask\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Email</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input placeholder="Masukan Email" style=border-radius:0; type=email id=userEmail>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Password</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input placeholder="Masukan Password" style=border-radius:0; type=password id=userPass>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=buttons>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\t" class=button id=goIn>\n\t\t\t\t\t\t\t<img src=./more/media/whitelogin.png style="\n\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\tMasuk\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\t" class=button id=goSignin>\n\t\t\t\t\t\t\t<img src=./more/media/whitesignup.png style="\n\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\tDaftar\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',buttonEvent(){this.findall("#buttons div").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},collectData(){const t={};return this.findall("input").forEach(n=>{t[n.id]=n.value}),t.userEmail&&(-1!=t.userEmail.indexOf("@")?t.cleanEmail=t.userEmail.slice(0,t.userEmail.indexOf("@")):t.cleanEmail=t.userEmail),t},goIn(){const t=this.collectData();app.checkLogin(t,this)},goSignin(){view.main.addChild(view.siginBox()),this.remove()},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.buttonEvent()}}),siginBox:()=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;z-index:1;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000040;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\theight:100%;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tAkun Baru circletask\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=form>\n\t\t\t\t\t\t<div id=username>\n\t\t\t\t\t\t\t<div>Username<span class=star>*</span></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input type=text placeholder="Masukan Username" style=border-radius:0;>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=emailuser>\n\t\t\t\t\t\t\t<div>Email<span class=star>*</span></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input type=email placeholder="Masukan Email" style=border-radius:0;>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=userpassone>\n\t\t\t\t\t\t\t<div>Password<span class=star>* <span class=sosmall>min 6 digits</span></span></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input type=password placeholder="Masukan Password" style=border-radius:0; required>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=userpasstwo>\n\t\t\t\t\t\t\t<div>Ulagi Password<span class=star>* <span class=sosmall>min 6 digits</span></span></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input type=password placeholder="Masukan Password" style=border-radius:0;>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=loading style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t">\n\t\t\t\t\t\tMenyimpan data anda, tunggu sebentar!\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=anounce style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t">\n\t\t\t\t\t\tMaaf, ada masalah saat proses penyimpanan data anda!\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=buttons>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\t" class=button id=goSignin>\n\t\t\t\t\t\t\t<img src=./more/media/whitesignup.png style="\n\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\tDaftar\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\t" class=button id=goIn>\n\t\t\t\t\t\t\t<img src=./more/media/whitelogin.png style="\n\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\tMasuk\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',buttonEvent(){this.findall("#buttons div").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},goIn(){view.main.addChild(view.loginBox()),this.remove()},collectData(){const t={len:0};return this.findall("input").forEach(n=>{n.value.length>0?(t[n.parentElement.parentElement.id]={input:n,value:n.value},t.len+=1):n.showUp(t=>{t.style.borderColor="red"},t=>{t.style.borderColor="#e0e0e0"})}),t},getComplete(t){const n=this.collectData();return n.len===t&&n},validate(t,n){let e,i=0,a=[];for(let d in t)"len"!==d&&(a.push(n[i](t[d],e)),e=t[d],i+=1);return a},rulesSignIn:()=>[(t,n)=>!0,(t,n)=>-1!==t.value.indexOf("@")||(t.input.showUp(t=>{t.style.borderColor="red"},t=>{t.style.borderColor="#e0e0e0"}),forceRecheck(view.main,"Email Tidak Valid!"),!1),(t,n)=>!0,(t,n)=>t.value!==n.value?(t.input.showUp(t=>{t.style.borderColor="red"},t=>{t.style.borderColor="#e0e0e0"}),n.input.showUp(t=>{t.style.borderColor="red"},t=>{t.style.borderColor="#e0e0e0"}),forceRecheck(view.main,"Password Tidak Sama!"),!1):!(t.value.length<6)||(t.input.showUp(t=>{t.style.borderColor="red"},t=>{t.style.borderColor="#e0e0e0"}),n.input.showUp(t=>{t.style.borderColor="red"},t=>{t.style.borderColor="#e0e0e0"}),forceRecheck(view.main,"Password Minimum 6 Digit!"),!1)],goSignin(){const t=this.getComplete(4);if(!t)return forceRecheck(view.main,"Lengkapi Data Terlebih Dahulu!");this.validate(t,this.rulesSignIn()).includes(!1)||this.completeIt(t)},hideFormAndButtons(){this.find("#form").hide(),this.find("#buttons").hide()},showTheAnounce(t){this.find("#loading").hide();const n=this.find("#anounce");n.innerText=t,n.show("flex")},completeIt(t){this.submitData({username:t.username.value,password:t.userpassone.value,email:t.emailuser.value,uniqueId:getUniqueID(),date:getFullDate(),cleanEmail:t.emailuser.value.slice(0,t.emailuser.value.indexOf("@"))})},submitData(t){this.hideFormAndButtons(),this.find("#loading").show("flex"),app.doglas.do(["database","users",t.cleanEmail,"update",t]).then(()=>{this.showTheAnounce("Pendaftaran Berhasil! Silahkan Lakukan Login."),setTimeout(()=>{this.goIn()},1e3)})},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.buttonEvent()}}),cerpennew:()=>makeElement("div",{style:"\n\t\t\t\tmargin:3%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t\tgap:10px;\n\t\t\t\theight:94%;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tPreview\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100px;\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\tborder:1px solid #e0e0e0;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img id=preview style="\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tpadding: 5px;\n\t\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\t\tborder: 1px solid #e0e0e0;\n\t\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\tz-index:1;\n\t\t\t\t\t\t" id=choosePreview class=thebutton>\n\t\t\t\t\t\t\t<img src=./more/media/plus.png style="\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tjustify-content: space-around;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tgap:10px;\n\t\t\t\t\tposition:sticky;\n\t\t\t\t\ttop:0;\n\t\t\t\t\tbackground:white;\n\t\t\t\t"\n\t\t\t\tid=newartilebuttons\n\t\t\t\t>\n\t\t\t\t\t<div style=width:100%; class=thebutton id=publish>\n\t\t\t\t\t\t<div class="button buttonstyled" style="\n\t\t\t\t\t\t\tjustify-content:center;display:flex;\n\t\t\t\t\t\t\talign-items:center;gap:10px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/whiteupload.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>Terbitkan</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:20%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tJudul Berita\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<textarea placeholder="Tulis Judul Berita Disini..." style="height:100%;resize:none;border-radius:0;" id=title></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\theight:80%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t">\n\t\t\t\t\t\tIsi<span class=star>* <span class=sosmall>min 1000 characters</span></span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<textarea placeholder="Tulis Berita..." style="height:100%;resize:none;border-radius:0 0 20px 20px;" id=description></textarea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',choosePreview(){const t=t=>{this.filepreview=t;const n=new FileReader;n.onload=(()=>{this.find("#preview").src=n.result,this.find("#preview").show("block")}),n.readAsDataURL(t)};this.preview||(this.preview=makeElement("input",{type:"file",accept:"image/*",onchange(){const n=this.files[0];t(n)}})),this.preview.click()},collectData(){const t={};return this.filepreview&&(t.preview=this.filepreview),this.findall("textarea").forEach(n=>{t[n.id]=n.value}),Object.assign(t,{date:getFullDate(),time:getTime(),owner:app.userData.cleanEmail,type:"ShortStories",postId:getUniqueID(),username:app.userData.username,profilepicture:app.userData.profilepicture||app.noProfilePng}),t},setupButton(){this.findall(".thebutton").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},addFiles(){},saveToDraft(){},publish(){const t=this.collectData();if(t.description.length<1e3)return forceRecheck(view.main,"Maaf Konten Terlalu Sedikit, Dibutuhkan Minimal 1000 Huruf.");view.main.addChild(view.loadingPost(t))},onadded(){this.setupButton()}}),notif:()=>makeElement("div",{style:"\n\t\t\t\twidth:96%;\n\t\t\t\theight:96%;\n\t\t\t\tgap:12px;\n\t\t\t\tdisplay:flex;\n\t\t\t\tflex-direction:column;\n\t\t\t\tpadding:2%;\n\t\t\t\toverflow:auto;\n\t\t\t\tcursor:pointer;\n\t\t\t",className:"NotifParent",generateNotifList(t){for(let n=t.length-1;n>=0;n--){const e=t[n];this.addChild(makeElement("div",{style:`\n\t\t\t\t\t\t\twidth:96%;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tgap:12px;\n\t\t\t\t\t\t\tpadding:2%;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tborder-bottom:${0===n?"":"1px solid whitesmoke"};\n\t\t\t\t\t\t`,innerHTML:`\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\twidth:10%;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<img src=${e.profilepicture} style="\n\t\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\twidth:90%;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<div>${e.who}, ${e.when}</div>\n\t\t\t\t\t\t\t\t<div class=bold>${e.what}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`}))}0===t.length&&this.addChild(makeElement("div",{style:"\n\t\t\t\t\t\t\twidth:96%;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tgap:12px;\n\t\t\t\t\t\t\tpadding:2%;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t",innerHTML:"\n\t\t\t\t\t\t\tBelum Ada Notifikasi...\n\t\t\t\t\t\t"}))},onadded(){this.loadNotifData()},async loadNotifData(){view.addLoading();const t=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"get"])).val()||[];view.unloading(),this.generateNotifList(t)}}),loadingPost:t=>makeElement("div",{datatoupload:t,style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:center;\n\t\t\t\tbackground:#00000040;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tborder-radius:0 0 20px 20px;\n\t\t\t\t\tbackground:white;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:3%;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tProses Uploading\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div id=text>\n\t\t\t\t\t\t\tMohon Tunggu Sebentar, Sedang Mengupload Data.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',handleResponse(t){t?(this.text.innerHTML="Terjadi Masalah Saat Mengupload, coba lagi nanti.",this.remove()):(this.text.innerHTML="Data berhasil diupload, menunggu persetujuan dari admin untuk dipublish",view.content.displayList([],"loadloker",!0))},async DoRequest(){if(this.datatoupload.preview){const t=await app.doglas.save([getUniqueID(),this.datatoupload.preview,this.datatoupload.preview.contentType]),n=await t.ref.getDownloadURL();this.datatoupload.preview=n}const t=await app.doglas.do(["database","pending",`${this.datatoupload.type}/${this.datatoupload.postId}`,"set",this.datatoupload]);this.handleResponse(t)},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.text=this.find("#text"),this.DoRequest()}}),editPop:()=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000040;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\theight:100%;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tEdit Profil\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:flex-start;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t" id=datasparent>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Username</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input value=${app.userData.username} readonly id=username>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Nama</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input placeholder="Masukan Nama Anda" id=name value="${app.userData.name||""}">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Bio</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input placeholder="Masukan Bio" id=bio value="${app.userData.bio||""}">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tmargin-top:10px;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t\t\tgap:8px;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div>Info Tambahan</div>\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\tborder:1px solid black;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t" id=moreinfobutton>\n\t\t\t\t\t\t\t\t<img src=./more/media/plus.png style="\n\t\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=save>\n\t\t\t\t\t\t<div class=button id=goSignin style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tSimpan\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,handleResponse(t,n){t||(forceRecheck(view.main,"Berhasil Mengedit Profil"),Object.assign(app.userData,n),view.content.openProfile([],"home",!1,null),this.remove())},generateMore(){for(let t in app.userData.more)this.find("#datasparent").addBefore(makeElement("div",{innerHTML:`\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>${t}</div>\n\t\t\t\t\t\t\t\t<div style=display:flex;gap:10px;justify-content:space-between;align-items:center;>\n\t\t\t\t\t\t\t\t\t<input id="${t}" value="${app.userData.more[t]}">\n\t\t\t\t\t\t\t\t\t<div style=cursor:pointer; id=removeitem>\n\t\t\t\t\t\t\t\t\t\t<img src=./more/media/deleteicon.png style="\n\t\t\t\t\t\t\t\t\t\t\twidth:24;\n\t\t\t\t\t\t\t\t\t\t\theight:24;\n\t\t\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`,onadded(){this.find("#removeitem").onclick=(()=>{this.remove()})}}),this.find("#datasparent").children[this.find("#datasparent").children.length-1])},DoRequest(t){app.doglas.do(["database","users",`${app.userData.cleanEmail}`,"update",t]).then(n=>{this.handleResponse(n,t)})},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.find("#save").onclick=(()=>{this.save()}),this.moreInfo(),this.generateMore()},collectData(){const t={more:{}};return this.findall("input").forEach((n,e)=>{n.value.length>0&&(e>2?t.more[n.id]=n.value:t[n.id]=n.value)}),t},save(){this.DoRequest(this.collectData())},moreInfo(){this.find("#moreinfobutton").onclick=(()=>{view.main.addChild(view.moreinfoadd(this))})},add(t){this.find("#datasparent").addBefore(makeElement("div",{innerHTML:`\n\t\t\t\t\t\t<div>${t.iddata}</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input placeholder="Masukan ${t.iddata}" id="${t.iddata}" value="${t.valuedata}">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t`}),this.find("#datasparent").children[this.find("#datasparent").children.length-1]),this.find("#moreinfobutton").scrollIntoView()}}),nodata:()=>makeElement("div",{innerHTML:"\n\t\t\t\tBelum Ada Data Terbaru.\n\t\t\t",style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:200px;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:center;\n\t\t\t"}),moreinfoadd:t=>makeElement("div",{style:"\n\t\t\t\tposition:absolute;\n\t\t\t\ttop:0;\n\t\t\t\tleft:0;\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tdisplay:flex;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tbackground:rgba(0, 0, 0, 0.25);\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:'\n\t\t\t\t<div class=innerBox style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\theight:100%;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tData Tambahan\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="padding:10px 20px;">\n\t\t\t\t\t\t<div>Nama Data</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input placeholder="Masukan Nama Data" id=iddata>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="padding:10px 20px;">\n\t\t\t\t\t\t<div>Isi Data</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input placeholder="Masukan Isi Data" id=valuedata>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:10px 20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=thebutton>\n\t\t\t\t\t\t<div class=button id=goSignin style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tTambah Data\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',collectData(){const t={};return this.findall("input").forEach(n=>{t[n.id]=n.value}),t},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.find("#thebutton").onclick=(()=>{t.add(this.collectData()),this.remove()})}}),editPic:t=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000040;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t\theight:100%;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tEdit Foto Profil\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:flex-start;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t" id=datasparent>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Pilih Foto</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input id=fileimg type=file accept=image/*>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Preview</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t\tbackground: whitesmoke;\n\t\t\t\t\t\t\t\tpadding: 20px 0;\n\t\t\t\t\t\t\t\tborder: 1px solid #e0e0e0;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\tpadding:8px;\n\t\t\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\t\twidth:128px;\n\t\t\t\t\t\t\t\t\theight:128px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<img id=preview src=${app.userData.profilepicture||app.noProfilePng}\n\t\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\t\twidth:128px;\n\t\t\t\t\t\t\t\t\t\theight:128px;\n\t\t\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=upnotice style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t">\n\t\t\t\t\t\tMohon Tunggu, Sedang Mengupload Foto Profil\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=save>\n\t\t\t\t\t\t<div class=button id=goSignin style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tSimpan\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,getfile(){const t=this.find("#fileimg");t.onchange=(()=>{this.file=t.files[0],this.showPreview()})},showPreview(){const t=new FileReader;t.onload=(()=>{this.preview.src=t.result,this.find("#save").onclick=(()=>{this.save()})}),t.readAsDataURL(this.file)},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.preview=this.find("#preview"),this.getfile(),this.upnotice=this.find("#upnotice")},save(){this.find("#datasparent").hide(),this.upnotice.show("block"),app.doglas.save([getUniqueID(),this.file,this.file.contentType]).then(async n=>{const e=await n.ref.getDownloadURL();app.doglas.do(["database","users",app.userData.cleanEmail,"update",{profilepicture:e}]).then(n=>{t.find("#profilepicture").src=e,app.userData.profilepicture=e,this.remove()})})}}),editBanner:t=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000040;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t\theight:100%;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tEdit Foto Banner\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:flex-start;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t" id=datasparent>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Pilih Foto</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input id=fileimg type=file accept=image/*>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Preview</div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t\tbackground: whitesmoke;\n\t\t\t\t\t\t\t\tpadding: 20px 0;\n\t\t\t\t\t\t\t\tborder: 1px solid #e0e0e0;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\tpadding:8px;\n\t\t\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<img id=preview src=${app.userData.bannerpic||app.noProfilePng}\n\t\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=upnotice style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t">\n\t\t\t\t\t\tMohon Tunggu, Sedang Mengupload Banner\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=save>\n\t\t\t\t\t\t<div class=button id=goSignin style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tSimpan\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,getfile(){const t=this.find("#fileimg");t.onchange=(()=>{this.file=t.files[0],this.showPreview()})},showPreview(){const t=new FileReader;t.onload=(()=>{this.preview.src=t.result,this.find("#save").onclick=(()=>{this.save()})}),t.readAsDataURL(this.file)},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.preview=this.find("#preview"),this.getfile(),this.upnotice=this.find("#upnotice")},save(){this.find("#datasparent").hide(),this.upnotice.show("block"),app.doglas.save([getUniqueID(),this.file,this.file.contentType]).then(async n=>{const e=await n.ref.getDownloadURL();app.doglas.do(["database","users",app.userData.cleanEmail,"update",{bannerpic:e}]).then(n=>{const i=t.find("#bannerimg");i.src=e,app.userData.bannerpic||(i.onload=(()=>{i.removeAttribute("hidden"),app.userData.bannerpic=e})),this.remove()})})}}),servicesOfferPage:t=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000040;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t\theight:100%;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tBuat Tawaran\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:flex-start;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t" id=datasparent>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Jasa</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input value="${t.subject}" readonly>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Ajukan Fee <span class=star>Min Rp${getPrice(t.minFee)}</span></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input type=number id=fee placeholder="Masukan Fee Yang Diinginkan" min=${t.minFee} value=${t.minFee}>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Deskripsi Anda</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<textarea placeholder="Masukan Deskripsi..." id=offerDescription style="height:150px;"></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=upnotice style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t">\n\t\t\t\t\t\tMohon Tunggu, Sedang Mengupload Foto Profil\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=save>\n\t\t\t\t\t\t<div class=button id=goSignin style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tKirim\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,getfile(){const t=this.find("#fileimg");t.onchange=(()=>{this.file=t.files[0],this.showPreview()})},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.upnotice=this.find("#upnotice"),this.find("#save").onclick=(()=>{this.save()})},collectData(){return{fee:this.find("#fee").value,bidId:getUniqueID(),description:this.find("#offerDescription").value,bidder:app.userData.username,bidderProfileId:app.userData.cleanEmail,date:getFullDate(),time:getTime(),owner:t.owner,reject:"unset",profilepicture:t.profilepicture,bidderProfileIdPic:app.userData.profilepicture,inbox:[{profilepicture:app.userData.profilepicture,date:getFullDate(),from:app.userData.username,msg:this.find("#offerDescription").value,time:getTime()}]}},async handleNotifOwner(){let n=(await app.doglas.do(["database","users",`${t.owner}/notif`,"get"])).val()||[];if(n.push({who:app.userData.username,profilepicture:app.userData.profilepicture,when:getFullDate(),what:`Memberi penawaran ke ${t.subject} sebesar Rp ${getPrice(t.fee)}`}),n.length>20){const t=[];for(let e=0;e<10;e++)t.push(n[e+11]);n=t}await app.doglas.do(["database","users",`${t.owner}/notif`,"set",n])},async handleNotifUser(){let n=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"get"])).val()||[];if(n.push({who:"Kamu",profilepicture:app.userData.profilepicture,when:getFullDate(),what:`Memberi penawaran ke ${t.subject} sebesar Rp ${getPrice(t.fee)}`}),n.length>20){const t=[];for(let e=0;e<10;e++)t.push(n[e+11]);n=t}await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"set",n])},save(){Object.assign(t,this.collectData()),app.doglas.do(["database",`bid/${t.type}`,t.bidId,"update",t]).then(async n=>{delete t.inbox;const e=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/bid`,"get"])).val()||[];e.push(t),await app.doglas.do(["database","users",`${app.userData.cleanEmail}/bid`,"update",e]);let i=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/statistics/bidcount`,"get"])).val()||0;i+=1,await app.doglas.do(["database","users",`${app.userData.cleanEmail}/statistics/bidcount`,"set",i]);const a=(await app.doglas.do(["database","users",`${t.owner}/bid`,"get"])).val()||[];a.push(t),await app.doglas.do(["database","users",`${t.owner}/bid`,"update",a]),app.userData.bid=e,this.handleNotifOwner(),this.handleNotifUser(),forceRecheck(view.main,"Berhasil mengirim penawaran"),this.remove()}),this.find("#datasparent").hide(),this.upnotice.show("block")}}),jobsOfferPage:t=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000040;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t\theight:100%;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tBuat Tawaran\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:flex-start;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t" id=datasparent>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Job</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input value="${t.subject}" readonly>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Ajukan Fee <span class=star>Max Rp${getPrice(t.maxFee)}</span></div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<input type=number id=fee placeholder="Masukan Fee Yang Diinginkan" max=${t.maxFee} value=${t.maxFee}>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div>Deskripsi Anda</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<textarea placeholder="Masukan Deskripsi..." id=offerDescription style="height:150px;"></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=upnotice style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t">\n\t\t\t\t\t\tMohon Tunggu, Sedang Mengupload Foto Profil\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=save>\n\t\t\t\t\t\t<div class=button id=goSignin style="\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tKirim\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,getfile(){const t=this.find("#fileimg");t.onchange=(()=>{this.file=t.files[0],this.showPreview()})},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.upnotice=this.find("#upnotice"),this.find("#save").onclick=(()=>{this.save()})},collectData(){return{fee:this.find("#fee").value,bidId:getUniqueID(),description:this.find("#offerDescription").value,bidder:app.userData.username,bidderProfileId:app.userData.cleanEmail,date:getFullDate(),time:getTime(),owner:t.owner,ownerUsername:t.username,status:"unset",profilepicture:t.profilepicture,bidderProfileIdPic:app.userData.profilepicture,inbox:[{profilepicture:app.userData.profilepicture,date:getFullDate(),from:app.userData.username,msg:this.find("#offerDescription").value,time:getTime()}]}},async handleNotifOwner(){let n=(await app.doglas.do(["database","users",`${t.owner}/notif`,"get"])).val()||[];if(n.push({who:app.userData.username,profilepicture:app.userData.profilepicture,when:getFullDate(),what:`Memberi penawaran ke ${t.subject} sebesar Rp ${getPrice(t.fee)}`}),n.length>20){const t=[];for(let e=0;e<10;e++)t.push(n[e+11]);n=t}await app.doglas.do(["database","users",`${t.owner}/notif`,"set",n])},async handleNotifUser(){let n=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"get"])).val()||[];if(n.push({who:"Kamu",profilepicture:app.userData.profilepicture,when:getFullDate(),what:`Memberi penawaran ke ${t.subject} sebesar Rp ${getPrice(t.fee)}`}),n.length>20){const t=[];for(let e=0;e<10;e++)t.push(n[e+11]);n=t}await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"set",n])},async save(){Object.assign(t,this.collectData()),app.doglas.do(["database",`bid/${t.type}`,t.bidId,"update",t]).then(async n=>{delete t.inbox;const e=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/bid`,"get"])).val()||[];e.push(t),await app.doglas.do(["database","users",`${app.userData.cleanEmail}/bid`,"set",e]);let i=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/statistics/bidcount`,"get"])).val()||0;i+=1,await app.doglas.do(["database","users",`${app.userData.cleanEmail}/statistics/bidcount`,"set",i]);const a=(await app.doglas.do(["database","users",`${t.owner}/bid`,"get"])).val()||[];a.push(t),await app.doglas.do(["database","users",`${t.owner}/bid`,"update",a]),app.userData.bid=e,this.handleNotifOwner(),this.handleNotifUser(),this.updateBidderId(),forceRecheck(view.main,"Berhasil mengirim penawaran"),this.remove()}),this.find("#datasparent").hide(),this.upnotice.show("block")},async updateBidderId(){let n=(await app.doglas.do(["database","post",`${t.type}/${t.postid}/bidder`,"get"])).val()||[];n.push(app.userData.cleanEmail),await app.doglas.do(["database","post",`${t.type}/${t.postid}/bidder`,"set",n]);const e=(await app.doglas.do(["database","post",`${t.type}/${t.postid}/biddingList`,"get"])).val()||[];e.push(t.bidId),await app.doglas.do(["database","post",`${t.type}/${t.postid}/biddingList`,"set",e])}}),inbox:t=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tmargin-top:10px;\n\t\t\t",async generateChat(){app.userData[t]||(app.userData[t]=[]),"inbox"===t&&(app.userData.inbox=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/inbox`,"get"])).val()||[]),0===app.userData[t].length?this.addChild(makeElement("div",{innerHTML:`${"bid"===t?"Anda Belum Melakukan Aktifitas Penawaran!":"Tidak Ada Pesan!"}`,style:"\n\t\t\t\t\t\t\theight:200px;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\t\ttext-align:center;\n\t\t\t\t\t\t"})):app.userData[t].forEach(async(n,e)=>{const i=(await app.doglas.do(["database","privateChat",`${n.roomId}/inbox`,"get"])).val()||[];this.addChild(view[`${t}Item`](e,n,e===app.userData[t].length-1,i))})},onadded(){this.generateChat()}}),inboxItem:(t,n,e,i)=>makeElement("div",{className:"lines",innerHTML:`\n\t\t\t\t<div class=item style=${e?"border-bottom:1px solid whitesmoke":""}>\n\t\t\t\t\t<div class=thumbnail style="\n\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\tmargin-left:2%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<img class=username src=${n.toProfile} style="\n\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=moreinfo>\n\t\t\t\t\t\t<div class=title>\n\t\t\t\t\t\t\t${i[i.length-1].msg.slice(0,20)+"..."}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=addressinfo>\n\t\t\t\t\t\t\t<div class=date>${SmartTime(i[i.length-1].time)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tmargin-right:2%;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding: 5px;\n\t\t\t\t\t    background: whitesmoke;\n\t\t\t\t\t    border-radius: 50%;\n\t\t\t\t\t    cursor: pointer;\n\t\t\t\t\t\t" id=morebutton>\n\t\t\t\t\t\t\t<img src=./more/media/moreicon.png style="\n\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,onadded(){this.find(".title").onclick=(()=>{view.main.addChild(view.openPrivateChat(n))}),this.find(".username").onclick=(()=>{app.dataContent=n,view.addLoading(),view.content.openProfile([],"home",!0,n.to)}),this.find("#morebutton").onclick=(()=>{this.openMoreMenu()})},openMoreMenu(){view.main.addChild(view.moreMenuInbox(n))}}),bidItem:(t,n,e)=>makeElement("div",{className:"lines",innerHTML:`\n\t\t\t\t<div class=item style=${e?"":"border-bottom:0;"}>\n\t\t\t\t\t<div class=thumbnail>\n\t\t\t\t\t\t<div>#${t+1}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=moreinfo>\n\t\t\t\t\t\t<div id=fee>\n\t\t\t\t\t\t\t${n.type} - ${"Jobs"===n.type?"Maks":"Min"} Bid Rp ${getPrice(n.fee)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=title>\n\t\t\t\t\t\t\t${n.subject.slice(0,100)+"..."}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=addressinfo>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<img class=profileimg src=${n.owner===app.userData.cleanEmail?n.bidderProfileIdPic:n.profilepicture}>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=username>${n.owner===app.userData.cleanEmail?n.bidder:n.owner},</div>\n\t\t\t\t\t\t\t<div class=date>${SmartTime(n.time)}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\theight:68px;\n\t\t\t\t\t\twidth:30%;\n\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\tmargin-right:5px;\n\t\t\t\t\t">\n\t\t\t\t\t\t<img src=${n.preview||"./more/media/nothumbnailnew.png"} style="\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,onadded(){this.find(".title").onclick=(()=>{view.main.addChild(view.openChatBid(n))}),this.find(".username").onclick=(()=>{app.dataContent=n,view.addLoading(),view.content.openProfile([],"home",!1,n.owner)})},onclick(){}}),openChatBid:(t,n)=>makeElement("div",{style:"\n\t\t\t\tposition:absolute;\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\ttop:0;\n\t\t\t\tleft:0;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:rgba(0, 0, 0, 0.4);\n\t\t\t",innerHTML:`\n\t\t\t\t<div class=innerBox\n\t\t\t\tstyle="\n\t\t\t\t\theight:100%;\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t"\n\t\t\t\t>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tmin-height: 77px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-around;\n\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\tborder-bottom:1px solid gainsboro;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth:80%;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\tpadding-left:5%;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/task.png style="\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>${t.subject.slice(0,30)+"..."}</div>\n\t\t\t\t\t\t\t\t<div>Rp ${getPrice(t.fee)} - ${t.type} - ${t.date}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\twidth: 64px;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div id=closethis style="cursor:pointer;border-radius:10px;padding:10px;">\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16;height:16;>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=userActionBidder style="\n\t\t\t\t    padding: 2% 0;\n\t\t\t\t    background: whitesmoke;\n\t\t\t\t    display: ${t.owner===app.userData.cleanEmail?"flex":"none"};\n\t\t\t\t    gap: 8px;\n\t\t\t\t    justify-content: space-around;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div id=hire style="\n\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t    background: green;\n\t\t\t\t\t    color: white;\n\t\t\t\t\t    width: 100%;\n\t\t\t\t\t    text-align: center;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t<img src=./more/media/correct.png\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t"\n\t\t\t\t\t\t>Rekrut</div>\n\t\t\t\t\t\t<div id=reject style="\n\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t    background: red;\n\t\t\t\t\t    color: white;\n\t\t\t\t\t    width: 100%;\n\t\t\t\t\t    text-align: center;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t<img src=./more/media/closewhite.png\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tTolak</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:90%;\n\t\t\t\t\t\theight:94%;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\tpadding:5%;\n\t\t\t\t\t\t  scrollbar-color: gray whitesmoke;\n\t\t\t\t\t\t  scrollbar-width: thin;\n\t\t\t\t\t" id=boxinbox>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t" id=embedfile>\n\t\t\t\t\t\t<div id=filename></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=closeembedfile style=cursor:pointer;>\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t" id=embedphoto>\n\t\t\t\t\t\t<div id=preview style="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/gemaprofile.png style="\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\tobject-fit:contain;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=closeembedphoto style=cursor:pointer;>\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\t/* height: 69px; */\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\ttop:0;left:0;\n\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t" id=sendingIndicator>\n\t\t\t\t\t\t\t<img src=./more/media/Loading_icon.gif style="\n\t\t\t\t\t\t\t\twidth:64px;\n\t\t\t\t\t\t\t\theight:64px;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t"> <span id=text>Mengirim Pesan!</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth: 80%;\n\t\t\t\t\t\t\t/* height: 100%; */\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 20px 0 0 20px;\n\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<textarea style="\n\t\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\tborder-radius: 20px 0 0 20px;\n\t\t\t\t\t\t\t\tmin-height:40px;\n\t\t\t\t\t\t\t\tmin-width:100%;\n\t\t\t\t\t\t\t\tmax-width:100%;\n\t\t\t\t\t\t\t" id=msgbox placeholder="Masukan Teks Disini..."></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t/* background: whitesmoke; */\n\t\t\t\t\t\t\t/* border: 1px solid whitesmoke; */\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 0 20px 20px 0;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="cursor:pointer;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tbackground:black;\n\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t" id=sendbutton>\n\t\t\t\t\t\t\t\t<img src=./more/media/whitesend.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t/* background: whitesmoke; */\n\t\t\t\t\t\t\t/* border: 1px solid whitesmoke; */\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 0 20px 20px 0;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="cursor:pointer;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t" id=attachfilebutton>\n\t\t\t\t\t\t\t\t<img src=./more/media/attachfile.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,embedMedia(t){const n=this;this.find("#boxinbox").addChild(makeElement("div",{style:"\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tbottom: 0px;\n\t\t\t\t\t\tright: 0px;\n\t\t\t\t\t\tmargin-bottom: 100px;\n\t\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tpadding: 15px 10px;\n\t\t\t\t\t\tgap: 10px;\n\t\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t",innerHTML:'\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=sendphoto>\n\t\t\t\t\t\t\t<img src=./more/media/images.png style="\n\t\t\t\t\t\t\t\twidth:32;\n\t\t\t\t\t\t\t\theight:32;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=senddocument>\n\t\t\t\t\t\t\t<img src=./more/media/documents.png style="\n\t\t\t\t\t\t\t\twidth:32;\n\t\t\t\t\t\t\t\theight:32;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=closethis>\n\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\twidth:16;\n\t\t\t\t\t\t\t\theight:16;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t',onadded(){this.findall("div").forEach(t=>{"closethis"===t.id&&(n.closethispreview=t),t.onclick=(()=>{this[t.id]()})}),t.hide()},closethis(){n.filebutton.show("flex"),this.remove()},senddocument(){const t=()=>{n.file=this.input.files[0],n.find("#filename").innerText=`File: ${n.file.name.slice(0,50)}...`,n.find("#embedfile").show("flex"),this.closethis()};this.input=makeElement("input",{type:"file",accept:"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,\n\t\t\t\t\t\t\t\t\t\t\ttext/plain, application/pdf\n\t\t\t\t\t\t\t",onchange(){t()}}),this.input.click()},sendphoto(){const t=()=>{n.file=this.input.files[0];const t=new FileReader;t.onload=(()=>{n.find("#embedphoto #preview img").src=t.result,n.find("#embedphoto").show("flex")}),t.readAsDataURL(n.file),this.closethis()};this.input=makeElement("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/jpg",onchange(){t()}}),this.input.click()}}))},collectData(){return{from:app.userData.username,date:getFullDate(),time:getTime(),msg:this.msgbox.value,profilepicture:app.userData.profilepicture,time:getTime(),id:app.userData.cleanEmail}},initUserActionToBidder(){this.findall("#userActionBidder div").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},hire(){this.handleNotifToOthers()},async handleContinueRoom(n,e){delete e.biddingList,delete e.bidder,delete e.winner;const i=(await app.doglas.do(["database","admin","","get"])).val()||{};e.admin=objToArray(i).getRandom().cleanEmail;const a=(await app.doglas.do(["database","admin",`${e.admin}/notif`,"get"])).val()||[];a.push({profilepicture:app.noProfilePng,who:"Sistem",when:getFullDate(),what:`Anda terpilih sebagai admin ${e.type} ${e.title} dari ${e.owner}`}),await app.doglas.do(["database","admin",`${app.userData.cleanEmail}/notif`,"set",a]);const d=getUniqueID();e.OnGoingRoomId=d,await app.doglas.do(["database","OnGoingRooms",d,"set",e]),Object.assign(e,t);const s=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/onGoingProjects`,"get"])).val()||[];s.push(e),await app.doglas.do(["database","users",`${app.userData.cleanEmail}/onGoingProjects`,"set",s]);const o=(await app.doglas.do(["database","users",`${n}/onGoingProjects`,"get"])).val()||[];o.push(e),await app.doglas.do(["database","users",`${n}/onGoingProjects`,"set",o]);let l=(await app.doglas.do(["database","users",`${n}/statistics/projectwon`,"get"])).val()||0;l+=1,await app.doglas.do(["database","users",`${n}/statistics/projectwon`,"set",l]);let r=(await app.doglas.do(["database","users",`${n}/statistics/ongoingproject`,"get"])).val()||0;r+=1,await app.doglas.do(["database","users",`${n}/statistics/ongoingproject`,"set",r]);const p=(await app.doglas.do(["database","admin",`${e.admin}/onGoingProjects`,"get"])).val()||[];p.push(e),await app.doglas.do(["database","admin",`${e.admin}/onGoingProjects`,"set",p])},async setWinner(n){await app.doglas.do(["database","post",`${t.type}/${t.postid}/winner`,"set",n]),((await app.doglas.do(["database","post",`${t.type}/${t.postid}/biddingList`,"get"])).val()||[]).forEach(async n=>{await app.doglas.get(`bid/${t.type}/${n}`).remove()});const e=(await app.doglas.do(["database","post",`${t.type}/${t.postid}`,"get"])).val();await app.doglas.do(["database","post",`${t.type}/${t.postid}`,"remove"]),this.handleContinueRoom(n,e)},async handleNotifToOthers(){const n=view.actionIndicator(this);view.main.addChild(n),n.find("#text").innerHTML=`Memperoses Rekrutmen Kepada ${t.bidder} sebesar Rp ${getPrice(t.fee)}`;const e=(await app.doglas.do(["database","post",`${t.type}/${t.postid}/bidder`,"get"])).val()||[];e.push(app.userData.cleanEmail),e.forEach(async n=>{const e=(await app.doglas.do(["database","users",`${n}/bid`,"get"])).val()||[],i=[];e.forEach(n=>{n.postid!==t.postid&&i.push(n)}),await app.doglas.do(["database","users",`${n}/bid`,"set",i]);const a=(await app.doglas.do(["database","users",`${n}/notif`,"get"])).val()||[];a.push({who:n===app.userData.cleanEmail?"Kamu":app.userData.username,profilepicture:app.userData.profilepicture,when:getFullDate(),what:`Telah menerima penawaran dari ${t.bidderProfileId===n?"Kamu":t.bidder} sebesar Rp ${getPrice(t.fee)}`}),await app.doglas.do(["database","users",`${n}/notif`,"set",a])}),this.setWinner(t.bidderProfileId),n.find("#text").innerHTML=`Berhasil Menerima Bid Dari ${t.bidder} sebesar ${t.fee}`,this.out()},async reject(){const n=view.actionIndicator(this);view.main.addChild(n),await app.doglas.do(["database","bid",`${t.type}/${t.bidId}/reject`,"set","ok"]),await app.doglas.do(["database","bid",`${t.type}/${t.bidId}`,"remove"]),this.generateNewUserBidData(),0===app.userData.bid.length?await app.doglas.do(["database","users",`${app.userData.cleanEmail}/bid`,"remove"]):await app.doglas.do(["database","users",`${app.userData.cleanEmail}/bid`,"set",app.userData.bid]);const e=(await app.doglas.do(["database","users",`${t.bidderProfileId}/bid`,"get"])).val()||[];if(0===e.length)await app.doglas.do(["database","users",`${t.bidderProfileId}/bid`,"remove"]);else{const n=[];e.forEach(e=>{e.bidId!==t.bidId&&n.push(e)}),await app.doglas.do(["database","users",`${t.bidderProfileId}/bid`,"set",n])}this.handleNotifOwner(`${t.owner} menolak penawaran kamu sebesar Rp ${getPrice(t.fee)}`),this.handleNotifUser(`Kamu menolak penawaran dari ${t.bidder} sebesar Rp ${getPrice(t.fee)}`),n.find("#text").innerHTML="Bidder Berhasil Ditolak!"},async handleNotifOwner(n){let e=(await app.doglas.do(["database","users",`${t.bidderProfileId}/notif`,"get"])).val()||[];if(e.push({who:app.userData.username,profilepicture:app.userData.profilepicture,when:getFullDate(),what:n}),e.length>20){const t=[];for(let n=0;n<10;n++)t.push(e[n+11]);e=t}await app.doglas.do(["database","users",`${t.bidderProfileId}/notif`,"set",e])},async handleNotifUser(t){let n=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"get"])).val()||[];if(n.push({who:"Kamu",profilepicture:app.userData.profilepicture,when:getFullDate(),what:t}),n.length>20){const t=[];for(let e=0;e<10;e++)t.push(n[e+11]);n=t}await app.doglas.do(["database","users",`${app.userData.cleanEmail}/notif`,"set",n])},generateNewUserBidData(){const n=[];app.userData.bid.length>0&&app.userData.bid.forEach(e=>{e.bidId!==t.bidId&&n.push(e)}),app.userData.bid=n},moreMenuInit(){this.initUserActionToBidder(),this.find("#moremenu").onclick=(()=>{view.main.addChild(view.moremenubid(t))})},initSendButton(){this.find("#sendbutton").onclick=(()=>{this.sendMsg()}),this.filebutton.onclick=(()=>{this.embedMedia(this.filebutton)}),this.find("#closeembedphoto").onclick=(()=>{this.embedphoto.hide(),this.filebutton.show("flex")}),this.find("#closeembedfile").onclick=(()=>{this.embedfile.hide(),this.filebutton.show("flex")})},async sendMsg(){const n=this.collectData();if(0===n.msg.length&&!this.file)return;if(this.sendingIndicator.show("flex"),this.file){this.closethispreview&&this.closethispreview.hide(),this.sendingIndicator.find("#text").innerText="Mengupload File!";const t=await app.doglas.save([this.file.name,this.file,this.file.contentType]),e=await t.ref.getDownloadURL();e&&(this.sendingIndicator.find("#text").innerText="Mengirim Pesan!"),n.file={url:e,type:this.file.type,name:this.file.name,size:this.file.size},"image"===n.file.type.split("/")[0]?this.embedphoto.hide():this.embedfile.hide()}const e=(await app.doglas.do(["database","bid",`${t.type}/${t.bidId}/inbox`,"get"])).val();e.push(n);await app.doglas.do(["database","bid",`${t.type}/${t.bidId}/inbox`,"set",e]);this.putMsg(n),this.filebutton.show("flex"),this.file=null,this.msgbox.value="",this.sendingIndicator.hide()},downKeys:[],initEnterSend(){this.msgbox.onkeydown=(t=>{this.downKeys.includes(t.key)||this.downKeys.push(t.key),this.downKeys.includes("Enter")&&!this.downKeys.includes("Shift")&&this.sendMsg()}),this.msgbox.onkeyup=(t=>{this.downKeys.pop()})},handleRejectMsg(){const t=view.actionIndicator(this);t.find("#topTitle").innerHTML="Notifikasi",t.find("#text").innerHTML="Owner Menolak Tawaran Anda",view.main.addChild(t)},handleWinMsg(t){const n=view.actionIndicator(this);n.find("#topTitle").innerHTML="Notifikasi",n.find("#text").innerHTML=`Owner Menerima Tawaran ${t}`,view.main.addChild(n)},async removeMyBid(){await app.doglas.get(`bid/${t.type}/${t.bidId}`).remove()},listen(){app.doglas.get(`bid/${t.type}/${t.bidId}/inbox`).on("value",t=>{const n=t.val();n&&n[n.length-1].from!==app.userData.username&&this.putMsg(n[n.length-1])}),t.bidderProfileId===app.userData.cleanEmail&&(app.doglas.get(`bid/${t.type}/${t.bidId}/reject`).on("value",n=>{const e=n.val();"unset"!==e&&e&&(this.handleRejectMsg(),app.doglas.get(`bid/${t.type}/${t.bidId}/reject`).off("value"),app.doglas.get(`post/${t.type}/${t.postid}/winner`).off("value"))}),app.doglas.get(`post/${t.type}/${t.postid}/winner`).on("value",n=>{const e=n.val();"unset"!==e&&e&&(e===app.userData.cleanEmail?this.handleWinMsg("Anda"):this.handleWinMsg(e),app.doglas.get(`post/${t.type}/${t.postid}/winner`).off("value"))}))},removeListen(){app.doglas.get(`bid/${t.type}/${t.bidId}/inbox`).off("value"),app.doglas.get(`bid/${t.type}/${t.bidId}/reject`).off("value"),app.doglas.get(`post/${t.type}/${t.postid}/winner`).off("value")},init(){this.boxinbox=this.find("#boxinbox"),this.msgbox=this.find("#msgbox"),this.sendingIndicator=this.find("#sendingIndicator"),this.showInboxInit(),this.initSendButton(),this.initEnterSend(),this.moreMenuInit(),setTimeout(()=>{this.listen()},2e3)},async showInboxInit(){((await app.doglas.do(["database","bid",`${t.type}/${t.bidId}/inbox`,"get"])).val()||[]).forEach(t=>{this.putMsg(t)})},putMsg(t){this.puttedMsg&&this.puttedMsg.time===t.time||(this.boxinbox.addChild(this.inboxItem(t)),this.puttedMsg=t)},onCloseClickded(){this.removeListen(),n?n():view.content.openInbox([],"bid",!0),this.remove()},onadded(){this.find("#closethis").onclick=(()=>{this.onCloseClickded()}),this.embedphoto=this.find("#embedphoto"),this.embedfile=this.find("#embedfile"),this.filebutton=this.find("#attachfilebutton"),this.init()},inboxItem:t=>makeElement("div",{style:`\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t\talign-items:${t.from===app.userData.username?"flex-end":"flex-start"};\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tmargin-bottom:15px;\n\t\t\t\t\t`,innerHTML:`\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\tborder-radius:${t.from===app.userData.username?"20px 0 20px 20px":"0 20px 20px 20px"};\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<div id=fileembed style="\n\t\t\t\t\t\t\t\t\tdisplay:${t.file?"image"===t.file.type.split("/")[0]?"none":"flex":"none"};\n\t\t\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t\t\t\tborder-bottom:2px solid ${t.from===app.userData.username?"whitesmoke":"white"};\n\t\t\t\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\t\t\t\t\tbackground: whitesmoke;\n\t\t\t\t\t\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\t\t" id=filex>\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t${t.file&&t.file.name?t.file.name.slice(0,10):""}...\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\t\t\t" id=downloadbutton>\n\t\t\t\t\t\t\t\t\t\t\t<img src=./more/media/downloadmedia.png style="\n\t\t\t\t\t\t\t\t\t\t\t\twidth:24;\n\t\t\t\t\t\t\t\t\t\t\t\theight:24;\n\t\t\t\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=photoembed style="\n\t\t\t\t\t\t\t\t\tdisplay:${t.file&&"image"===t.file.type.split("/")[0]?"flex":"none"};\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<img src="${t.file?t.file.url:""}" style="\n\t\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\t\t\tobject-fit:contain;\n\t\t\t\t\t\t\t\t\t" id=imgpreviewbutton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t${t.msg.length>0?t.msg.replaceAll("\n","<br>"):""}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div><span style=font-size:10px;>${SmartTime(t.time)}</span></div>\n\t\t\t\t\t`,onadded(){if(this.scrollIntoView(),this.find("#downloadbutton").onclick=(()=>{this.setupDownload()}),this.find("#imgpreviewbutton").onclick=(()=>{this.bigPreview()}),t.file){const n=t.file.name.split(".");this.find("#filex").innerText=n[n.length-1]}},setupDownload(){t.file&&t.file.url&&open(t.file.url,"_blank")},bigPreview(){view.main.addChild(view.bigImgPreview(t.file.url))}})}),OnGoingChat:(t,n)=>makeElement("div",{style:"\n\t\t\t\tposition:absolute;\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\ttop:0;\n\t\t\t\tleft:0;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:rgba(0, 0, 0, 0.4);\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:`\n\t\t\t\t<div class=innerBox\n\t\t\t\tstyle="\n\t\t\t\t\theight:100%;\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t"\n\t\t\t\t>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tmin-height: 77px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-around;\n\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\tborder-bottom:1px solid gainsboro;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth:80%;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\tpadding-left:5%;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/ongoing.png style="\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div>${t.subject.slice(0,30)+"..."}</div>\n\t\t\t\t\t\t\t\t<div>Rp ${getPrice(t.fee)} - ${t.type} - ${t.date}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div id=moremenu style="cursor:pointer;\n\t\t\t\t\t\t\t\tbackground:gainsboro;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<img src=./more/media/info.png class=navimg style=width:32;height:32;>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\twidth: 64px;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div id=closethis style="cursor:pointer;\n\t\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:90%;\n\t\t\t\t\t\theight:94%;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\tpadding:5%;\n\t\t\t\t\t\t  scrollbar-color: gray whitesmoke;\n\t\t\t\t\t\t  scrollbar-width: thin;\n\t\t\t\t\t" id=boxinbox>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t" id=embedfile>\n\t\t\t\t\t\t<div id=filename></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=closeembedfile style=cursor:pointer;>\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t" id=embedphoto>\n\t\t\t\t\t\t<div id=preview style="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/gemaprofile.png style="\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\tobject-fit:contain;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=closeembedphoto style=cursor:pointer;>\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\t/* height: 69px; */\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\ttop:0;left:0;\n\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t" id=sendingIndicator>\n\t\t\t\t\t\t\t<img src=./more/media/Loading_icon.gif style="\n\t\t\t\t\t\t\t\twidth:64px;\n\t\t\t\t\t\t\t\theight:64px;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t"> <span id=text>Mengirim Pesan!</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth: 80%;\n\t\t\t\t\t\t\t/* height: 100%; */\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 20px 0 0 20px;\n\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<textarea style="\n\t\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\tborder-radius: 20px 0 0 20px;\n\t\t\t\t\t\t\t\tmin-height:40px;\n\t\t\t\t\t\t\t\tmin-width:100%;\n\t\t\t\t\t\t\t\tmax-width:100%;\n\t\t\t\t\t\t\t" id=msgbox placeholder="Masukan Teks Disini..."></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t/* background: whitesmoke; */\n\t\t\t\t\t\t\t/* border: 1px solid whitesmoke; */\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 0 20px 20px 0;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="cursor:pointer;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tbackground:black;\n\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t" id=sendbutton>\n\t\t\t\t\t\t\t\t<img src=./more/media/whitesend.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t/* background: whitesmoke; */\n\t\t\t\t\t\t\t/* border: 1px solid whitesmoke; */\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 0 20px 20px 0;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="cursor:pointer;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t" id=attachfilebutton>\n\t\t\t\t\t\t\t\t<img src=./more/media/attachfile.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,embedMedia(t){const n=this;this.find("#boxinbox").addChild(makeElement("div",{style:"\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tbottom: 0px;\n\t\t\t\t\t\tright: 0px;\n\t\t\t\t\t\tmargin-bottom: 100px;\n\t\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tpadding: 15px 10px;\n\t\t\t\t\t\tgap: 10px;\n\t\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t",innerHTML:'\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=sendphoto>\n\t\t\t\t\t\t\t<img src=./more/media/images.png style="\n\t\t\t\t\t\t\t\twidth:32;\n\t\t\t\t\t\t\t\theight:32;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=senddocument>\n\t\t\t\t\t\t\t<img src=./more/media/documents.png style="\n\t\t\t\t\t\t\t\twidth:32;\n\t\t\t\t\t\t\t\theight:32;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=closethis>\n\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\twidth:16;\n\t\t\t\t\t\t\t\theight:16;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t',onadded(){this.findall("div").forEach(t=>{"closethis"===t.id&&(n.closethispreview=t),t.onclick=(()=>{this[t.id]()})}),t.hide()},closethis(){n.filebutton.show("flex"),this.remove()},senddocument(){const t=()=>{n.file=this.input.files[0],n.find("#filename").innerText=`File: ${n.file.name.slice(0,50)}...`,n.find("#embedfile").show("flex"),this.closethis()};this.input=makeElement("input",{type:"file",accept:"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,\n\t\t\t\t\t\t\t\t\t\t\ttext/plain, application/pdf\n\t\t\t\t\t\t\t",onchange(){t()}}),this.input.click()},sendphoto(){const t=()=>{n.file=this.input.files[0];const t=new FileReader;t.onload=(()=>{n.find("#embedphoto #preview img").src=t.result,n.find("#embedphoto").show("flex")}),t.readAsDataURL(n.file),this.closethis()};this.input=makeElement("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/jpg",onchange(){t()}}),this.input.click()}}))},collectData(){return{from:app.userData.username,date:getFullDate(),time:getTime(),msg:this.msgbox.value,profilepicture:app.userData.profilepicture,time:getTime(),id:app.userData.cleanEmail}},initUserActionToBidder(){this.findall("#userActionBidder div").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},moreMenuInit(){this.find("#moremenu").onclick=(()=>{view.main.addChild(view.moremenubid(t))})},initSendButton(){this.find("#sendbutton").onclick=(()=>{this.sendMsg()}),this.filebutton.onclick=(()=>{this.embedMedia(this.filebutton)}),this.find("#closeembedphoto").onclick=(()=>{this.embedphoto.hide(),this.filebutton.show("flex")}),this.find("#closeembedfile").onclick=(()=>{this.embedfile.hide(),this.filebutton.show("flex")})},async sendMsg(){const n=this.collectData();if(0===n.msg.length&&!this.file)return;if(this.sendingIndicator.show("flex"),this.file){this.closethispreview&&this.closethispreview.hide(),this.sendingIndicator.find("#text").innerText="Mengupload File!";const t=await app.doglas.save([this.file.name,this.file,this.file.contentType]),e=await t.ref.getDownloadURL();e&&(this.sendingIndicator.find("#text").innerText="Mengirim Pesan!"),n.file={url:e,type:this.file.type,name:this.file.name,size:this.file.size},"image"===n.file.type.split("/")[0]?this.embedphoto.hide():this.embedfile.hide()}const e=(await app.doglas.do(["database","OnGoingRooms",`${t.OnGoingRoomId}/inbox`,"get"])).val()||[];e.push(n);await app.doglas.do(["database","OnGoingRooms",`${t.OnGoingRoomId}/inbox`,"set",e]);this.putMsg(n),this.filebutton.show("flex"),this.file=null,this.msgbox.value="",this.sendingIndicator.hide()},downKeys:[],initEnterSend(){this.msgbox.onkeydown=(t=>{this.downKeys.includes(t.key)||this.downKeys.push(t.key),this.downKeys.includes("Enter")&&!this.downKeys.includes("Shift")&&this.sendMsg()}),this.msgbox.onkeyup=(t=>{this.downKeys.pop()})},removeListen(){app.doglas.get(`OnGoingRooms/${t.OnGoingRoomId}/inbox`).off("value")},listen(){app.doglas.get(`OnGoingRooms/${t.OnGoingRoomId}/inbox`).on("value",t=>{const n=t.val();n&&n[n.length-1].from!==app.userData.username&&this.putMsg(n[n.length-1])})},init(){this.boxinbox=this.find("#boxinbox"),this.msgbox=this.find("#msgbox"),this.sendingIndicator=this.find("#sendingIndicator"),this.showInboxInit(),this.initSendButton(),this.initEnterSend(),this.moreMenuInit(),setTimeout(()=>{this.listen()},2e3)},async showInboxInit(){((await app.doglas.do(["database","OnGoingRooms",`${t.OnGoingRoomId}/inbox`,"get"])).val()||[]).forEach(t=>{this.putMsg(t)})},putMsg(t){this.puttedMsg&&this.puttedMsg.time===t.time||(this.boxinbox.addChild(this.inboxItem(t)),this.puttedMsg=t)},onCloseClickded(){n?n():view.content.openInbox(),this.remove()},onadded(){this.find("#closethis").onclick=(()=>{this.onCloseClickded()}),this.embedphoto=this.find("#embedphoto"),this.embedfile=this.find("#embedfile"),this.filebutton=this.find("#attachfilebutton"),this.init()},getRole(n){let e="";return n.from.indexOf("-")&&"admin"===n.from.slice(0,n.from.indexOf("-"))?e="Admin":n.from===t.username?e="Owner":n.from===t.bidder&&(e="Worker"),e},inboxItem(t){const n=this.getRole(t),e=this;return makeElement("div",{style:`\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t\talign-items:${t.from===app.userData.username?"flex-end":"flex-start"};\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tmargin-bottom:15px;\n\t\t\t\t\t`,innerHTML:`\n\t\t\t\t\t\t<div style="font-weight:bold;${this.puttedMsg&&this.puttedMsg.from===t.from?"display:none;":""}"><span class=username>@${t.from}: ${n}</span></div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\tpadding:8px;\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\tdisplay:${t.from===app.userData.username?"none":"block"};\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<img src=${t.profilepicture} style="\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\t\tborder-radius:50%;x\n\t\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\t\t${this.puttedMsg&&this.puttedMsg.from===t.from?"display:none;":""}\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\tborder-radius:${t.from===app.userData.username?"20px 0 20px 20px":"0 20px 20px 20px"};\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<div id=fileembed style="\n\t\t\t\t\t\t\t\t\tdisplay:${t.file?"image"===t.file.type.split("/")[0]?"none":"flex":"none"};\n\t\t\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t\t\t\tborder-bottom:2px solid ${t.from===app.userData.username?"whitesmoke":"white"};\n\t\t\t\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\t\t\t\t\tbackground: whitesmoke;\n\t\t\t\t\t\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\t\t" id=filex>\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t${t.file&&t.file.name?t.file.name.slice(0,10):""}...\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\t\t\t" id=downloadbutton>\n\t\t\t\t\t\t\t\t\t\t\t<img src=./more/media/downloadmedia.png style="\n\t\t\t\t\t\t\t\t\t\t\t\twidth:24;\n\t\t\t\t\t\t\t\t\t\t\t\theight:24;\n\t\t\t\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=photoembed style="\n\t\t\t\t\t\t\t\t\tdisplay:${t.file&&"image"===t.file.type.split("/")[0]?"flex":"none"};\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<img src="${t.file?t.file.url:""}" style="\n\t\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\t\t\tobject-fit:contain;\n\t\t\t\t\t\t\t\t\t" id=imgpreviewbutton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t${t.msg.length>0?t.msg.replaceAll("\n","<br>"):""}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\tpadding:8px;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\tdisplay:${t.from===app.userData.username?"block":"none"};\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<img src=${t.profilepicture} style="\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\t\t${this.puttedMsg&&this.puttedMsg.from===t.from?"display:none;":""}\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tmargin-${t.from===app.userData.username?"right":"left"}:48px;\n\t\t\t\t\t\t"><span style=font-size:10px;>${SmartTime(t.time)}</span></div>\n\t\t\t\t\t`,onadded(){if(this.scrollIntoView(),this.find("#downloadbutton").onclick=(()=>{this.setupDownload()}),this.find("#imgpreviewbutton").onclick=(()=>{this.bigPreview()}),this.find(".username").onclick=(()=>{view.addLoading(),view.content.openProfile([],"home",!1,t.id),e.remove()}),t.file){const n=t.file.name.split(".");this.find("#filex").innerText=n[n.length-1]}},setupDownload(){t.file&&t.file.url&&open(t.file.url,"_blank")},bigPreview(){view.main.addChild(view.bigImgPreview(t.file.url))}})}}),moremenubid:t=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000040;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:`\n\t\t\t\t<div style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\tProject Info\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=hiredMsg style="display:none;padding:20px;">\n\t\t\t\t\t\t<div>Berhasil menerima pembidder, silahkan lanjutkan percakapan atau aktifitas lain</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=rejectedMsg style="display:none;padding:20px;">\n\t\t\t\t\t\t<div>Berhasil mereject pembidder, pembidder akan diblock untuk kembali membidder dan percakapan sebelumnya akan di hapus</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\t    padding: 20px;\n\t\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\t\t\tgap: 5px\n\t\t\t\t\t">\n\t\t\t\t\t\t<div><b>Admin</b></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input value=${t.admin} readonly>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div><b>Owner</b></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input value=${t.username} readonly>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div><b>Bidder</b></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input value=${t.bidder} readonly>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div><b>Fee</b></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input value="Rp ${getPrice(t.fee)}" readonly>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div><b>Status</b></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input value="${t.finished?"Selesai":"Sedang Berlangsung"}" readonly>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div><b>Status Pembayaran</b></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input value="${t.paidStatus?"Dibayar":"Belum Dibayar"}" readonly>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t" id=buttonsMenu>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tgap:8px;\n\t\t\t\t\t\t\tjustify-content:space-around;\n\t\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t\t"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div><b>Admin Kontrol</b></div>\n\t\t\t\t\t\t\t<div style="width:100%">\n\t\t\t\t\t\t\t\t<div class="button buttonstyled" style="\n\t\t\t\t\t\t\t\t\tborder-radius:20px;display:flex;\n\t\t\t\t\t\t\t\t\talign-items:center;gap:5px;justify-content:center;\n\t\t\t\t\t\t\t\t\tbackground:green;color:white;\n\t\t\t\t\t\t\t\t" id=hire>\n\t\t\t\t\t\t\t\t\t<img src=./more/media/hired.png\n\t\t\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t>Selesai</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div style="width:100%">\n\t\t\t\t\t\t\t\t<div class="button buttonstyled" style="\n\t\t\t\t\t\t\t\t\tborder-radius:20px;display:flex;\n\t\t\t\t\t\t\t\t\talign-items:center;gap:5px;\n\t\t\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t\t\t\tbackground:red;color:white;\n\t\t\t\t\t\t\t\t" id=reject>\n\t\t\t\t\t\t\t\t\t<img src=./more/media/rejection.png\n\t\t\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t\t>Batalkan</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,buttonsEvent(){this.findall(".button").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.buttonsMenu=this.find("#buttonsMenu"),this.buttonsEvent()},hire(){this.buttonsMenu.changeTo(this.find("#hiredMsg"),"flex")},async reject(){await app.doglas.do(["database","bid",`${t.type}/${t.bidId}`,"remove"]);this.generateNewUserBidData();await app.doglas.do(["database","users",`${t.bidderProfileId}/bid`,"update",app.userData.bid])},generateNewUserBidData(){const n=[];app.userData.bid.length>0&&app.userData.bid.forEach(e=>{e.bidId!=t.bidId&&n.push(e)}),app.userData.bid=n}}),actionIndicator:t=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tposition:absolute;\n\t\t\t\tz-index:1;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:flex-start;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000040;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tborder-radius:0 0 20px 20px;\n\t\t\t\t\tbackground:white;\n\t\t\t\t" class=innerBox>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:94%;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tpadding:0 3%;\n\t\t\t\t\t\theight:77px;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tfont-family:montserratbold;\n\t\t\t\t\t\t\tmargin-left:5px;\n\t\t\t\t\t\t" id=topTitle>\n\t\t\t\t\t\t\tLoading...\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=closethis style="cursor:pointer;">\n\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16px;height:16px;>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:20px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div id=text>\n\t\t\t\t\t\t\tMemproses Penolakan.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',onadded(){this.find("#closethis").onclick=(()=>{t.remove(),view.content.openInbox(),this.remove()})}}),globalChat:t=>makeElement("div",{style:"\n\t\t\t\tposition:absolute;\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\ttop:0;\n\t\t\t\tleft:0;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:#00000066;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:'\n\t\t\t\t<div class=innerBox\n\t\t\t\tstyle="\n\t\t\t\t\theight:100%;\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t"\n\t\t\t\t>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tmin-height: 77px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-around;\n\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\tborder-bottom:1px solid gainsboro;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth:80%;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\tpadding-left:5%;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/globe.png style="\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div>Global Chat Room</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\twidth: 64px;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div id=closethis style="cursor:pointer;border-radius:10px;padding:10px;">\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16;height:16;>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:90%;\n\t\t\t\t\t\theight:94%;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\tpadding:5%;\n\t\t\t\t\t\t  scrollbar-color: gray whitesmoke;\n\t\t\t\t\t\t  scrollbar-width: thin;\n\t\t\t\t\t" id=boxinbox>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t" id=embedfile>\n\t\t\t\t\t\t<div id=filename></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=closeembedfile style=cursor:pointer;>\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t" id=embedphoto>\n\t\t\t\t\t\t<div id=preview style="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/gemaprofile.png style="\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\tobject-fit:contain;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=closeembedphoto style=cursor:pointer;>\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\t/* height: 69px; */\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\ttop:0;left:0;\n\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t" id=sendingIndicator>\n\t\t\t\t\t\t\t<img src=./more/media/Loading_icon.gif style="\n\t\t\t\t\t\t\t\twidth:64px;\n\t\t\t\t\t\t\t\theight:64px;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t"> <span id=text>Mengirim Pesan!</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth: 80%;\n\t\t\t\t\t\t\t/* height: 100%; */\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 20px 0 0 20px;\n\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<textarea style="\n\t\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\tborder-radius: 20px 0 0 20px;\n\t\t\t\t\t\t\t\tmin-height:40px;\n\t\t\t\t\t\t\t\tmax-width:100%;\n\t\t\t\t\t\t\t\tmin-width:100%;\n\t\t\t\t\t\t\t" id=msgbox placeholder="Masukan Teks Disini..."></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t/* background: whitesmoke; */\n\t\t\t\t\t\t\t/* border: 1px solid whitesmoke; */\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 0 20px 20px 0;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="cursor:pointer;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tbackground:black;\n\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t" id=sendbutton>\n\t\t\t\t\t\t\t\t<img src=./more/media/whitesend.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t/* background: whitesmoke; */\n\t\t\t\t\t\t\t/* border: 1px solid whitesmoke; */\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 0 20px 20px 0;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="cursor:pointer;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t" id=attachfilebutton>\n\t\t\t\t\t\t\t\t<img src=./more/media/attachfile.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',embedMedia(t){const n=this;this.find("#boxinbox").addChild(makeElement("div",{style:"\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tbottom: 0px;\n\t\t\t\t\t\tright: 0px;\n\t\t\t\t\t\tmargin-bottom: 100px;\n\t\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tpadding: 15px 10px;\n\t\t\t\t\t\tgap: 10px;\n\t\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t",innerHTML:'\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=sendphoto>\n\t\t\t\t\t\t\t<img src=./more/media/images.png style="\n\t\t\t\t\t\t\t\twidth:32;\n\t\t\t\t\t\t\t\theight:32;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=senddocument>\n\t\t\t\t\t\t\t<img src=./more/media/documents.png style="\n\t\t\t\t\t\t\t\twidth:32;\n\t\t\t\t\t\t\t\theight:32;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=closethis>\n\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\twidth:16;\n\t\t\t\t\t\t\t\theight:16;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t',onadded(){this.findall("div").forEach(t=>{"closethis"===t.id&&(n.closethispreview=t),t.onclick=(()=>{this[t.id]()})}),t.hide()},closethis(){n.filebutton.show("flex"),this.remove()},senddocument(){const t=()=>{n.file=this.input.files[0],n.find("#filename").innerText=`File: ${n.file.name.slice(0,50)}...`,n.find("#embedfile").show("flex"),this.closethis()};this.input=makeElement("input",{type:"file",accept:"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,\n\t\t\t\t\t\t\t\t\t\t\ttext/plain, application/pdf\n\t\t\t\t\t\t\t",onchange(){t()}}),this.input.click()},sendphoto(){const t=()=>{n.file=this.input.files[0];const t=new FileReader;t.onload=(()=>{n.find("#embedphoto #preview img").src=t.result,n.find("#embedphoto").show("flex")}),t.readAsDataURL(n.file),this.closethis()};this.input=makeElement("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/jpg",onchange(){t()}}),this.input.click()}}))},collectData(){return{id:app.userData.cleanEmail,from:app.userData.username,date:getFullDate(),time:getTime(),msg:this.msgbox.value,profilepicture:app.userData.profilepicture,time:getTime()}},initSendButton(){this.find("#sendbutton").onclick=(()=>{this.sendMsg()}),this.filebutton.onclick=(()=>{this.embedMedia(this.filebutton)}),this.find("#closeembedphoto").onclick=(()=>{this.embedphoto.hide(),this.filebutton.show("flex")}),this.find("#closeembedfile").onclick=(()=>{this.embedfile.hide(),this.filebutton.show("flex")})},async sendMsg(){const t=this.collectData();if(0===t.msg.length&&!this.file)return;if(this.sendingIndicator.show("flex"),this.file){this.closethispreview&&this.closethispreview.hide(),this.sendingIndicator.find("#text").innerText="Mengupload File!";const n=await app.doglas.save([this.file.name,this.file,this.file.contentType]),e=await n.ref.getDownloadURL();e&&(this.sendingIndicator.find("#text").innerText="Mengirim Pesan!"),t.file={url:e,type:this.file.type,name:this.file.name,size:this.file.size},"image"===t.file.type.split("/")[0]?this.embedphoto.hide():this.embedfile.hide()}let n=(await app.doglas.do(["database","globalGroupChat","","get"])).val()||[];n.length>=30&&(n=n.slice(19,30)),n.push(t);await app.doglas.do(["database","globalGroupChat","","set",n]);this.putMsg(t),this.filebutton.show("flex"),this.file=null,this.msgbox.value="",this.sendingIndicator.hide()},downKeys:[],initEnterSend(){this.msgbox.onkeydown=(t=>{this.downKeys.includes(t.key)||this.downKeys.push(t.key),this.downKeys.includes("Enter")&&!this.downKeys.includes("Shift")&&this.sendMsg()}),this.msgbox.onkeyup=(t=>{this.downKeys.pop()})},listen(){app.doglas.get("globalGroupChat").on("value",t=>{const n=t.val();n&&n[n.length-1].from!==app.userData.username&&this.putMsg(n[n.length-1])})},init(){this.boxinbox=this.find("#boxinbox"),this.msgbox=this.find("#msgbox"),this.sendingIndicator=this.find("#sendingIndicator"),this.showInboxInit(),this.initSendButton(),this.initEnterSend(),setTimeout(()=>{this.listen()},2e3)},async showInboxInit(){((await app.doglas.do(["database","globalGroupChat","","get"])).val()||[]).forEach(t=>{this.putMsg(t)})},putMsg(t){this.puttedMsg&&this.puttedMsg.time===t.time||(this.boxinbox.addChild(this.inboxItem(t)),this.puttedMsg=t)},removeListen(){app.doglas.get("globalGroupChat").off("value")},onCloseClickded(){this.removeListen(),this.remove()},onadded(){this.find("#closethis").onclick=(()=>{this.onCloseClickded()}),this.embedphoto=this.find("#embedphoto"),this.embedfile=this.find("#embedfile"),this.filebutton=this.find("#attachfilebutton"),this.init()},inboxItem(t){const n=this;return makeElement("div",{style:`\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t\talign-items:${t.from===app.userData.username?"flex-end":"flex-start"};\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tmargin-bottom:15px;\n\t\t\t\t\t`,innerHTML:`\n\t\t\t\t\t\t<div style="font-weight:bold;${this.puttedMsg&&this.puttedMsg.from===t.from?"display:none;":""}"><span class=username>@${t.from}</span></div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\tpadding:8px;\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\tdisplay:${t.from===app.userData.username?"none":"block"};\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<img src=${t.profilepicture} style="\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\t\tborder-radius:50%;x\n\t\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\t\tborder:2px solid gainsboro;\n\t\t\t\t\t\t\t\t\t${this.puttedMsg&&this.puttedMsg.from===t.from?"display:none;":""}\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\tborder-radius:${t.from===app.userData.username?"20px 0 20px 20px":"0 20px 20px 20px"};\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<div id=fileembed style="\n\t\t\t\t\t\t\t\t\tdisplay:${t.file?"image"===t.file.type.split("/")[0]?"none":"flex":"none"};\n\t\t\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t\t\t\tborder-bottom:2px solid ${t.from===app.userData.username?"whitesmoke":"white"};\n\t\t\t\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\t\t\t\t\tbackground: whitesmoke;\n\t\t\t\t\t\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\t\t" id=filex>\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t${t.file&&t.file.name?t.file.name.slice(0,10):""}...\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\t\t\t" id=downloadbutton>\n\t\t\t\t\t\t\t\t\t\t\t<img src=./more/media/downloadmedia.png style="\n\t\t\t\t\t\t\t\t\t\t\t\twidth:24;\n\t\t\t\t\t\t\t\t\t\t\t\theight:24;\n\t\t\t\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=photoembed style="\n\t\t\t\t\t\t\t\t\tdisplay:${t.file&&"image"===t.file.type.split("/")[0]?"flex":"none"};\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<img src="${t.file?t.file.url:""}" style="\n\t\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\t\t\tobject-fit:contain;\n\t\t\t\t\t\t\t\t\t" id=imgpreviewbutton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t${t.msg.length>0?t.msg.replaceAll("\n","<br>"):""}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\tpadding:8px;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\tdisplay:${t.from===app.userData.username?"block":"none"};\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<img src=${t.profilepicture} style="\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\t\tborder:2px solid gainsboro;\n\t\t\t\t\t\t\t\t\t${this.puttedMsg&&this.puttedMsg.from===t.from?"display:none;":""}\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tmargin-${t.from===app.userData.username?"right":"left"}:48px;\n\t\t\t\t\t\t"><span style=font-size:10px;>${SmartTime(t.time)}</span></div>\n\t\t\t\t\t`,onadded(){if(this.scrollIntoView(),this.find("#downloadbutton").onclick=(()=>{this.setupDownload()}),this.find("#imgpreviewbutton").onclick=(()=>{this.bigPreview()}),this.find(".username").onclick=(()=>{view.addLoading(),view.content.openProfile([],"home",!1,t.id),n.remove()}),t.file){const n=t.file.name.split(".");this.find("#filex").innerText=n[n.length-1]}},setupDownload(){t.file&&t.file.url&&open(t.file.url,"_blank")},bigPreview(){view.main.addChild(view.bigImgPreview(t.file.url))}})}}),openLoading:()=>makeElement("div",{id:"openLoading",style:"\n\t\t\t\tbackground:white;\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:center;\n\t\t\t\tposition:absolute;\n\t\t\t\ttop:0;left:0;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t">\n\t\t\t\t\t<img src=./more/media/Loading_icon.gif\n\t\t\t\t\tstyle="\n\t\t\t\t\t\twidth: 30%;\n\t\t\t\t\t\theight: 30%;\n\t\t\t\t\t\tobject-fit: cover;\n\t\t\t\t\t\tmargin-top:100px;\n\t\t\t\t\t"\n\t\t\t\t\t>\n\t\t\t\t\tTunggu Sebentar!\n\t\t\t\t</div>\n\t\t\t'}),addLoading(){this.content.addChild(view.openLoading())},unloading(){this.content.saveRemove("#openLoading")},openPrivateChat:t=>makeElement("div",{style:"\n\t\t\t\tposition:absolute;\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\ttop:0;\n\t\t\t\tleft:0;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:flex-end;\n\t\t\t\tbackground:rgba(0, 0, 0, 0.4);\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:`\n\t\t\t\t<div class=innerBox\n\t\t\t\tstyle="\n\t\t\t\t\theight:100%;\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t"\n\t\t\t\t>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tmin-height: 77px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-around;\n\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\tborder-bottom:1px solid gainsboro;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth:80%;\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\tpadding-left:5%;\n\t\t\t\t\t\t" class=username>\n\t\t\t\t\t\t\t<img src=${t.toProfile} style="\n\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div>${t.toUsername}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\twidth: 64px;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div id=closethis style="cursor:pointer;border-radius:10px;padding:10px;">\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png class=navimg style=width:16;height:16;>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth:90%;\n\t\t\t\t\t\theight:94%;\n\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t\tpadding:5%;\n\t\t\t\t\t\t  scrollbar-color: gray whitesmoke;\n\t\t\t\t\t\t  scrollbar-width: thin;\n\t\t\t\t\t" id=boxinbox>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t" id=embedfile>\n\t\t\t\t\t\t<div id=filename></div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=closeembedfile style=cursor:pointer;>\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t" id=embedphoto>\n\t\t\t\t\t\t<div id=preview style="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/gemaprofile.png style="\n\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\tobject-fit:contain;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div id=closeembedphoto style=cursor:pointer;>\n\t\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\twidth: 94%;\n\t\t\t\t\t\t/* height: 69px; */\n\t\t\t\t\t\tborder-top: 1px solid whitesmoke;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\tpadding: 3%;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tposition:relative;\n\t\t\t\t\t\tborder-top:1px solid gainsboro;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\t\ttop:0;left:0;\n\t\t\t\t\t\t\tdisplay:none;\n\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\tjustify-content:center;\n\t\t\t\t\t\t" id=sendingIndicator>\n\t\t\t\t\t\t\t<img src=./more/media/Loading_icon.gif style="\n\t\t\t\t\t\t\t\twidth:64px;\n\t\t\t\t\t\t\t\theight:64px;\n\t\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t\t"> <span id=text>Mengirim Pesan!</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\twidth: 80%;\n\t\t\t\t\t\t\t/* height: 100%; */\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 20px 0 0 20px;\n\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<textarea style="\n\t\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\t\tborder: none;\n\t\t\t\t\t\t\t\tborder-radius: 20px 0 0 20px;\n\t\t\t\t\t\t\t\tmin-height:40px;\n\t\t\t\t\t\t\t\tmax-width:100%;\n\t\t\t\t\t\t\t\tmin-width:100%;\n\t\t\t\t\t\t\t" id=msgbox placeholder="Masukan Teks Disini..."></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t/* background: whitesmoke; */\n\t\t\t\t\t\t\t/* border: 1px solid whitesmoke; */\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 0 20px 20px 0;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="cursor:pointer;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tbackground:black;\n\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t" id=sendbutton>\n\t\t\t\t\t\t\t\t<img src=./more/media/whitesend.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\t/* background: whitesmoke; */\n\t\t\t\t\t\t\t/* border: 1px solid whitesmoke; */\n\t\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\t\tborder-radius: 0 20px 20px 0;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="cursor:pointer;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t" id=attachfilebutton>\n\t\t\t\t\t\t\t\t<img src=./more/media/attachfile.png\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth:32px;\n\t\t\t\t\t\t\t\t\theight:32px;\n\t\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,embedMedia(t){const n=this;this.find("#boxinbox").addChild(makeElement("div",{style:"\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tbottom: 0px;\n\t\t\t\t\t\tright: 0px;\n\t\t\t\t\t\tmargin-bottom: 100px;\n\t\t\t\t\t\tmargin-right: 10px;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tpadding: 15px 10px;\n\t\t\t\t\t\tgap: 10px;\n\t\t\t\t\t\tborder-radius: 30px;\n\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t",innerHTML:'\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=sendphoto>\n\t\t\t\t\t\t\t<img src=./more/media/images.png style="\n\t\t\t\t\t\t\t\twidth:32;\n\t\t\t\t\t\t\t\theight:32;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=senddocument>\n\t\t\t\t\t\t\t<img src=./more/media/documents.png style="\n\t\t\t\t\t\t\t\twidth:32;\n\t\t\t\t\t\t\t\theight:32;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t" id=closethis>\n\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\twidth:16;\n\t\t\t\t\t\t\t\theight:16;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t',onadded(){this.findall("div").forEach(t=>{"closethis"===t.id&&(n.closethispreview=t),t.onclick=(()=>{this[t.id]()})}),t.hide()},closethis(){n.filebutton.show("flex"),this.remove()},senddocument(){const t=()=>{n.file=this.input.files[0],n.find("#filename").innerText=`File: ${n.file.name.slice(0,50)}...`,n.find("#embedfile").show("flex"),this.closethis()};this.input=makeElement("input",{type:"file",accept:"application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,\n\t\t\t\t\t\t\t\t\t\t\ttext/plain, application/pdf\n\t\t\t\t\t\t\t",onchange(){t()}}),this.input.click()},sendphoto(){const t=()=>{n.file=this.input.files[0];const t=new FileReader;t.onload=(()=>{n.find("#embedphoto #preview img").src=t.result,n.find("#embedphoto").show("flex")}),t.readAsDataURL(n.file),this.closethis()};this.input=makeElement("input",{type:"file",accept:"image/png,image/jpeg,image/gif,image/jpg",onchange(){t()}}),this.input.click()}}))},async fixRoom(){let n;let e;if(((await app.doglas.do(["database","users",`${t.to}/inbox`,"get"])).val()||[]).forEach(t=>{t.to!==app.userData.cleanEmail||(n=t)}),!n){e||(e=t.roomId);const n=(await app.doglas.do(["database","users",`${t.to}/inbox`,"get"])).val()||[];n.push({roomId:e,to:app.userData.cleanEmail,toProfile:app.userData.profilepicture,date:getFullDate(),toUsername:app.userData.username}),await app.doglas.do(["database","users",`${t.to}/inbox`,"set",n])}},collectData(){return{from:app.userData.username,date:getFullDate(),time:getTime(),msg:this.msgbox.value,profilepicture:app.userData.profilepicture,time:getTime(),id:app.userData.cleanEmail}},initSendButton(){this.find("#sendbutton").onclick=(()=>{this.sendMsg()}),this.filebutton.onclick=(()=>{this.embedMedia(this.filebutton)}),this.find("#closeembedphoto").onclick=(()=>{this.embedphoto.hide(),this.filebutton.show("flex")}),this.find("#closeembedfile").onclick=(()=>{this.embedfile.hide(),this.filebutton.show("flex")})},async sendMsg(){this.fixRoom();const n=this.collectData();if(0===n.msg.length&&!this.file)return;if(this.sendingIndicator.show("flex"),this.file){this.closethispreview&&this.closethispreview.hide(),this.sendingIndicator.find("#text").innerText="Mengupload File!";const t=await app.doglas.save([this.file.name,this.file,this.file.contentType]),e=await t.ref.getDownloadURL();e&&(this.sendingIndicator.find("#text").innerText="Mengirim Pesan!"),n.file={url:e,type:this.file.type,name:this.file.name,size:this.file.size},"image"===n.file.type.split("/")[0]?this.embedphoto.hide():this.embedfile.hide()}const e=(await app.doglas.do(["database","privateChat",`${t.roomId}/inbox`,"get"])).val()||[];e.push(n);await app.doglas.do(["database","privateChat",`${t.roomId}/inbox`,"set",e]);this.putMsg(n),this.filebutton.show("flex"),this.file=null,this.msgbox.value="",this.sendingIndicator.hide()},downKeys:[],initEnterSend(){this.msgbox.onkeydown=(t=>{this.downKeys.includes(t.key)||this.downKeys.push(t.key),this.downKeys.includes("Enter")&&!this.downKeys.includes("Shift")&&this.sendMsg()}),this.msgbox.onkeyup=(t=>{this.downKeys.pop()})},listen(){app.doglas.get(`privateChat/${t.roomId}/inbox`).on("value",t=>{const n=t.val();n&&n[n.length-1].from!==app.userData.username&&this.putMsg(n[n.length-1])})},removeListen(){app.doglas.get(`privateChat/${t.roomId}/inbox`).off("value")},init(){this.boxinbox=this.find("#boxinbox"),this.sendingIndicator=this.find("#sendingIndicator"),this.msgbox=this.find("#msgbox"),this.showInboxInit(),this.initSendButton(),this.initEnterSend(),setTimeout(()=>{this.listen()},2e3)},async showInboxInit(){(await app.doglas.do(["database","privateChat",`${t.roomId}/inbox`,"get"])).val().forEach(t=>{this.putMsg(t)})},putMsg(t){this.puttedMsg&&this.puttedMsg.time===t.time||(this.boxinbox.addChild(this.inboxItem(t)),this.puttedMsg=t)},onCloseClickded(){this.removeListen(),view.content.openInbox([],"inbox",!0),this.remove()},onadded(){this.find("#closethis").onclick=(()=>{this.onCloseClickded()}),this.embedphoto=this.find("#embedphoto"),this.embedfile=this.find("#embedfile"),this.filebutton=this.find("#attachfilebutton"),this.find(".username").onclick=(()=>{view.addLoading(),view.content.openProfile([],"home",!1,t.to),this.remove()}),this.init()},inboxItem:t=>makeElement("div",{style:`\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tflex-direction:column;\n\t\t\t\t\t\talign-items:${t.from===app.userData.username?"flex-end":"flex-start"};\n\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\tgap:5px;\n\t\t\t\t\t\tmargin-bottom:15px;\n\t\t\t\t\t`,innerHTML:`\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\tborder-radius:${t.from===app.userData.username?"20px 0 20px 20px":"0 20px 20px 20px"};\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t<div id=fileembed style="\n\t\t\t\t\t\t\t\t\tdisplay:${t.file?"image"===t.file.type.split("/")[0]?"none":"flex":"none"};\n\t\t\t\t\t\t\t\t\tgap:10px;\n\t\t\t\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t\t\t\tborder-bottom:2px solid ${t.from===app.userData.username?"whitesmoke":"white"};\n\t\t\t\t\t\t\t\t\tpadding-bottom:10px;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\t\t\t\t\tbackground: whitesmoke;\n\t\t\t\t\t\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\t\t\t\t\t\tcolor:black;\n\t\t\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\t\t" id=filex>\n\t\t\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t${t.file&&t.file.name?t.file.name.slice(0,10):""}...\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\t\t\t\t\tpadding:5px;\n\t\t\t\t\t\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t\t\t\t\t\t" id=downloadbutton>\n\t\t\t\t\t\t\t\t\t\t\t<img src=./more/media/downloadmedia.png style="\n\t\t\t\t\t\t\t\t\t\t\t\twidth:24;\n\t\t\t\t\t\t\t\t\t\t\t\theight:24;\n\t\t\t\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div id=photoembed style="\n\t\t\t\t\t\t\t\t\tdisplay:${t.file&&"image"===t.file.type.split("/")[0]?"flex":"none"};\n\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\theight:150px;\n\t\t\t\t\t\t\t\t\tmargin-bottom:10px;\n\t\t\t\t\t\t\t\t\tborder-radius:20px;\n\t\t\t\t\t\t\t\t\tbackground:whitesmoke;\n\t\t\t\t\t\t\t\t\toverflow:hidden;\n\t\t\t\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\t\t\t<img src="${t.file?t.file.url:""}" style="\n\t\t\t\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\t\t\t\tobject-fit:contain;\n\t\t\t\t\t\t\t\t\t" id=imgpreviewbutton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t${t.msg.length>0?t.msg.replaceAll("\n","<br>"):""}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div><span style=font-size:10px;>${SmartTime(t.time)}</span></div>\n\t\t\t\t\t`,onadded(){if(this.scrollIntoView(),this.find("#downloadbutton").onclick=(()=>{this.setupDownload()}),this.find("#imgpreviewbutton").onclick=(()=>{this.bigPreview()}),t.file){const n=t.file.name.split(".");this.find("#filex").innerText=n[n.length-1]}},setupDownload(){t.file&&t.file.url&&open(t.file.url,"_blank")},bigPreview(){view.main.addChild(view.bigImgPreview(t.file.url))}})}),moreMenuInbox:t=>makeElement("div",{style:"\n\t\t\t\twidth: 100%;\n\t\t    height: 100%;\n\t\t    background: #00000036;\n\t\t    display: flex;\n\t\t    align-items: center;\n\t\t    justify-content: center;\n\t\t    position: absolute;\n\t\t    top: 0px;\n\t\t    left: 0px;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tposition:relative;\n\t\t\t\t\tbackground: white;\n\t\t\t    width: 200px;\n\t\t\t    height: 200px;\n\t\t\t    border-radius: 10px;\n\t\t\t    padding: 20px;\n\t\t\t    padding-top: 10px;\n\t\t\t    overflow:auto;\n\t\t\t    display:flex;\n\t\t\t    flex-direction:column;\n\t\t\t    gap:10px;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\tleft:0;top:0;\n\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\tbackground:red;\n\t\t\t\t\t\tborder-radius:10px;\n\t\t\t\t\t\tz-index:1;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t" id=closethis>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<img src=./more/media/close.png\n\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\twidth:16px;\n\t\t\t\t\t\t\t\theight:16px;\n\t\t\t\t\t\t\t"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t    margin-bottom: 20px;\n\t\t\t\t    border-bottom: 1px solid whitesmoke;\n\t\t\t\t    padding-bottom: 5px;\n\t\t\t\t    position:sticky;top:0;\n\t\t\t\t\t"><b>More Menu!</b></div>\n\t\t\t\t\t<div class=action style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t    align-items: center;\n\t\t\t\t    /* height: 100%; */\n\t\t\t\t    background: whitesmoke;\n\t\t\t\t    padding: 10px;\n\t\t\t\t    border-radius: 20px;\n\t\t\t\t    cursor: pointer;\n\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t" id=removeChat>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t    gap: 10px;\n\t\t\t\t\t    justify-content: center;\n\t\t\t\t\t    align-items: center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/deleteicon.png style="\n\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\tHapus\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=action style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t    align-items: center;\n\t\t\t\t    /* height: 100%; */\n\t\t\t\t    background: whitesmoke;\n\t\t\t\t    padding: 10px;\n\t\t\t\t    border-radius: 20px;\n\t\t\t\t    cursor: pointer;\n\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t" id=reportChat>\n\t\t\t\t\t\t<div style="\n\t\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t    gap: 10px;\n\t\t\t\t\t    justify-content: center;\n\t\t\t\t\t    align-items: center;\n\t\t\t\t\t\t">\n\t\t\t\t\t\t\t<img src=./more/media/megaphone.png style="\n\t\t\t\t\t\t\t\twidth:24px;\n\t\t\t\t\t\t\t\theight:24px;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t\tLaporkan\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.findall(".action").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},async removeChat(){const n=(await app.doglas.do(["database","users",`${app.userData.cleanEmail}/inbox`,"get"])).val()||[],e=[];n.forEach(n=>{n.roomId!==t.roomId&&e.push(n)}),await app.doglas.do(["database","users",`${app.userData.cleanEmail}/inbox`,"set",e]),view.content.openInbox([],"inbox",!0),this.remove()},reportChat(){}}),profileDiv:(t="home",n=!1,e)=>makeElement("div",{nav:t,style:"\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\toverflow: auto;\n\t\t\t\tbackground: white;\n\t\t\t\talign-items: center;\n\t\t\t\tposition:sticky;\n\t\t\t\ttop:0;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\t  width: 100%;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: flex-start;\n\t\t\t\t\t\t/* margin: 2%; */\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t" id=berandadivmenu>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=home\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/home.png class=navimg>\n\t\t\t\t\t\tBeranda\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=article\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/articleicon.png class=navimg>\n\t\t\t\t\t\tArtikel\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=jobs\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/task.png class=navimg>\n\t\t\t\t\t\tLoker\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=services\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/servicesicon.png class=navimg>\n\t\t\t\t\t\tJasa\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=news\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/newsicon.png class=navimg>\n\t\t\t\t\t\tnews\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=statistic\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/report.png class=navimg>\n\t\t\t\t\t\tStatistik\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=followers\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/follow.png class=navimg>\n\t\t\t\t\t\tFollowers\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tgap:8px;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=following\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/follow.png class=navimg>\n\t\t\t\t\t\tFollowing\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tgap: 8px;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tpadding: 10px;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t"\n\t\t\t\t\tid=bidderSay\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src=./more/media/review.png class=navimg>\n\t\t\t\t\t\tTestimoni\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',buttonSetup(){this.findall("#berandadivmenu div").forEach(t=>{t.onclick=(()=>{this[t.id]()})})},onadded(){e||(e=app.userData.cleanEmail),this.find("#"+this.nav).style.borderBottom="3px solid black",this.find("#"+this.nav).style.fontFamily="montserratbold",this.find("#"+this.nav).scrollIntoView(),this.buttonSetup()},home(){view.addLoading(),view.content.openProfile([],"home",!1,e)},article(){view.addLoading(),app.doglas.do(["database","post","Articles","get",""]).then(t=>{view.unloading();let n=objToArray(t.val()||{});const i=[];n.forEach(t=>{t.owner===e&&i.push(t)}),view.content.openProfile(i,"article",!1,e)})},jobs(){view.addLoading(),app.doglas.do(["database","post","Jobs","get",""]).then(t=>{view.unloading();let n=objToArray(t.val()||{});const i=[];n.forEach(t=>{t.owner===e&&i.push(t)}),view.content.openProfile(i,"jobs",!1,e)})},services(){view.addLoading(),app.doglas.do(["database","post","Services","get",""]).then(t=>{view.unloading();let n=objToArray(t.val()||{});const i=[];n.forEach(t=>{t.owner===e&&i.push(t)}),view.content.openProfile(i,"services",!1,e)})},statistic(){view.addLoading(),app.doglas.do(["database","users",`${app.userData.cleanEmail}/statistic`,"get",""]).then(t=>{view.unloading();let n=objToArray(t.val()||{});view.content.openProfile(n,"statistic",!1,e)})},bidderSay(){view.addLoading(),app.doglas.do(["database","users",`${app.userData.cleanEmail}/bidderSay`,"get",""]).then(t=>{view.unloading();let n=objToArray(t.val()||{});view.content.openProfile(n,"bidderSay",!1,e)})},followers(){view.addLoading(),app.doglas.do(["database","users",`${e||app.userData.cleanEmail}/followers`,"get",""]).then(t=>{view.unloading();let n=objToArray(t.val()||{});view.content.openProfile(n,"followers",!1,e)})},following(){view.addLoading(),app.doglas.do(["database","users",`${e||app.userData.cleanEmail}/following`,"get",""]).then(t=>{view.unloading();let n=objToArray(t.val()||{});view.content.openProfile(n,"following",!1,e)})},news(){view.addLoading(),app.doglas.do(["database","post","ShortStories","get",""]).then(t=>{view.unloading();let n=objToArray(t.val()||{});const i=[];n.forEach(t=>{t.owner===e&&i.push(t)}),view.content.openProfile(i,"news",!1,e)})}}),statistic:t=>makeElement("div",{style:"\n\t\t\t\toverflow:auto;\n\t\t\t\tfont-weight:bold;\n\t\t\t\tpadding:2%;\n\t\t\t\tborder-radius: 10px;\n\t\t\t",className:"smartBorder",innerHTML:'\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tborder-bottom:1px solid whitesmoke;\n\t\t\t\t\tgap:10px;\n\t\t\t\t\tpadding:10px 0;\n\t\t\t\t">\n\t\t\t\t\t<div>Total Bid</div>\n\t\t\t\t\t<div style=display:flex;gap:8px;>\n\t\t\t\t\t\t<div id=bidcount class=divitem>-</div>\n\t\t\t\t\t\tKali\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tborder-bottom:1px solid whitesmoke;\n\t\t\t\t\tgap:10px;\n\t\t\t\t\tpadding:10px 0;\n\t\t\t\t">\n\t\t\t\t\t<div>Menang Bid</div>\n\t\t\t\t\t<div style=display:flex;gap:8px;>\n\t\t\t\t\t\t<div id=projectwon class=divitem>-</div>\n\t\t\t\t\t\tKali\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tborder-bottom:1px solid whitesmoke;\n\t\t\t\t\tgap:10px;\n\t\t\t\t\tpadding:10px 0;\n\t\t\t\t">\n\t\t\t\t\t<div>Selesai</div>\n\t\t\t\t\t<div style=display:flex;gap:8px;>\n\t\t\t\t\t\t<div id=projectfinished class=divitem>-</div>\n\t\t\t\t\t\tKali\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tgap:10px;\n\t\t\t\t\tpadding:10px 0;\n\t\t\t\t">\n\t\t\t\t\t<div>Batal</div>\n\t\t\t\t\t<div style=display:flex;gap:8px;>\n\t\t\t\t\t\t<div id=projectcancelled class=divitem>-</div>\n\t\t\t\t\t\tKali\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div style="\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\talign-items:center;\n\t\t\t\t\tgap:10px;\n\t\t\t\t\tpadding:10px 0;\n\t\t\t\t">\n\t\t\t\t\t<div>Sedang Berjalan</div>\n\t\t\t\t\t<div style=display:flex;gap:8px;>\n\t\t\t\t\t\t<div id=ongoingproject class=divitem>-</div>\n\t\t\t\t\t\tProjek\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t',onadded(){this.fillData()},async fillData(){const n=(await app.doglas.do(["database","users",`${t||app.userData.cleanEmail}/statistics`,"get"])).val()||{};this.findall(".divitem").forEach(t=>{t.innerHTML=n[t.id]||0})}}),bigImgPreview:t=>makeElement("div",{style:"\n\t\t\t\twidth:100%;\n\t\t\t\theight:100%;\n\t\t\t\tbackground:rgba(0, 0, 0, 0.4);\n\t\t\t\tposition:absolute;\n\t\t\t\ttop:0;left:0;\n\t\t\t\tdisplay:flex;\n\t\t\t\talign-items:center;\n\t\t\t\tjustify-content:center;\n\t\t\t\tz-index:1;\n\t\t\t",innerHTML:`\n\t\t\t\t<div class="innerBox smartHeight" style="\n\t\t\t\t\tbackground:white;\n\t\t\t\t\tdisplay:flex;\n\t\t\t\t\tflex-direction:column;\n\t\t\t\t\tposition:relative;\n\t\t\t\t">\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\tjustify-content:space-between;\n\t\t\t\t\t\tborder-bottom:1px solid gainsboro;\n\t\t\t\t\t\talign-items:center;\n\t\t\t\t\t\tfont-weight:bold;\n\t\t\t\t\t">\n\t\t\t\t\t\t<div>Preview File</div>\n\t\t\t\t\t\t<div style=cursor:pointer; id=closethis>\n\t\t\t\t\t\t\t<img src=./more/media/close.png style="\n\t\t\t\t\t\t\t\twidth:16;\n\t\t\t\t\t\t\t\theight:16;\n\t\t\t\t\t\t\t">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style="\n\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\tdisplay:flex;\n\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\toverflow:auto;\n\t\t\t\t\t">\n\t\t\t\t\t\t<img src=${t} style="\n\t\t\t\t\t\t\twidth:100%;\n\t\t\t\t\t\t\theight:100%;\n\t\t\t\t\t\t\tobject-fit:cover;\n\t\t\t\t\t\t" id=theimgcontent>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=resizebutton style="\n\t\t\t\t\t\tpadding:10px;\n\t\t\t\t\t\tborder-radius:50%;\n\t\t\t\t\t\tbackground:white;\n\t\t\t\t\t\tposition:absolute;\n\t\t\t\t\t\tbottom:20px;\n\t\t\t\t\t\tright:20px;\n\t\t\t\t\t\tcursor:pointer;\n\t\t\t\t\t\tborder:1px solid gainsboro;\n\t\t\t\t\t">\n\t\t\t\t\t\t<img src=./more/media/resize.png style="\n\t\t\t\t\t\t\twidth:24;\n\t\t\t\t\t\t\theight:24;\n\t\t\t\t\t\t">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,imgState:0,stateList:["cover","contain","fill"],onadded(){this.find("#closethis").onclick=(()=>{this.remove()}),this.find("#resizebutton").onclick=(()=>{this.resize()}),this.img=this.find("#theimgcontent")},resize(){this.imgState+=1,this.imgState==this.stateList.length&&(this.imgState=0),this.img.style.objectFit=this.stateList[this.imgState]}})};